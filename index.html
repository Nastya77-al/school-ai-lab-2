<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f4f4f4;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        
        nav {
            background: #34495e;
            padding: 0.5rem;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            display: block;
            transition: background 0.3s;
        }
        
        nav a:hover {
            background: #2c3e50;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background: white;
            min-height: calc(100vh - 200px);
        }
        
        .section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .algorithm-box {
            background: #ecf0f1;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 5px;
        }
        
        .visualization {
            background: #2c3e50;
            color: white;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
            border-radius: 5px;
        }
        
        .bar {
            display: inline-block;
            width: 40px;
            margin: 2px;
            background: #3498db;
            color: white;
            text-align: center;
            transition: all 0.3s;
        }
        
        .bar.comparing {
            background: #e74c3c;
        }
        
        .bar.sorted {
            background: #27ae60;
        }
        .bar.merging {
            background-color: blueviolet; 
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            margin: 0.5rem;
            cursor: pointer;
            border-radius: 3px;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        .quiz-container {
            background: #ecf0f1;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 5px;
        }
        
        .question {
            margin: 1rem 0;
        }
        
        .options label {
            display: block;
            margin: 0.5rem 0;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 3px;
            transition: background 0.2s;
        }
        
        .options label:hover {
            background: #ecf0f1;
        }
        
        .task-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
        }
        
        .difficulty {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
        }
        
        .easy { background: #27ae60; color: white; }
        .medium { background: #f39c12; color: white; }
        .hard { background: #e74c3c; color: white; }
        
        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 1rem;
            border-radius: 5px;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        code {
            font-family: 'Courier New', monospace;
        }
        
        .draggable-step {
            background: #3498db;
            color: white;
            padding: 0.5rem;
            margin: 0.5rem 0;
            border-radius: 3px;
            cursor: move;
            transition: all 0.3s;
            user-select: none;
        }
        
        .draggable-step:hover {
            background: #2980b9;
            transform: scale(1.02);
        }
        
        .draggable-step[draggable="true"]:active {
            cursor: grabbing;
        }
        
        .dropzone {
            border: 2px dashed #bdc3c7;
            min-height: 200px;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .dropzone.dragover {
            border-color: #3498db;
            background: #ecf0f1;
        }
        
        input[type="range"] {
            width: 200px;
            margin: 0 1rem;
        }
        
        textarea {
            border: 1px solid #bdc3c7;
            padding: 0.5rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        #mystery-array .bar {
            background: #9b59b6;
        }
        
        .algorithm-box h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        
        .algorithm-box h4 {
            color: #34495e;
            margin: 0.5rem 0;
        }

        .pattern-game {
            background: #f8f9fa;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
            text-align: center;
        }

        .pattern-bar {
            display: inline-block;
            width: 30px;
            height: 30px;
            margin: 2px;
            background: #3498db;
            color: white;
            text-align: center;
            line-height: 30px;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .pattern-bar:hover {
            background: #2980b9;
        }

        .pattern-bar.selected {
            background: #e74c3c;
        }

        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 50px);
            gap: 5px;
            justify-content: center;
            margin: 1rem auto;
        }

        .memory-card {
            width: 50px;
            height: 50px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .memory-card:hover {
            background: #2980b9;
        }

        .memory-card.flipped {
            background: #27ae60;
        }

        .memory-card.matched {
            background: #95a5a6;
            cursor: default;
        }

        .exam-link {
            background: #27ae60;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            text-decoration: none;
            display: inline-block;
            margin: 1rem;
            transition: all 0.3s;
            animation: pulse 2s infinite;
        }

        .exam-link:hover {
            background: #229954;
            transform: scale(1.05);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(39, 174, 96, 0); }
            100% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0); }
        }

        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
            }
            
            .task-card {
                margin: 0.5rem 0;
            }
            
            #steps-container {
                flex-direction: column;
            }
            
            .bar {
                width: 30px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</h1>
        <p>–ù–∞–≤—á–∞–ª—å–Ω–∏–π –∫—É—Ä—Å –¥–ª—è —É—á–Ω—ñ–≤ 10 –∫–ª–∞—Å—É</p>
    </header>
    
    <nav>
        <ul>
            <li><a href="#" onclick="showSection('home')">–ì–æ–ª–æ–≤–Ω–∞</a></li>
            <li><a href="#" onclick="showSection('theory')">–¢–µ–æ—Ä—ñ—è</a></li>
            <li><a href="#" onclick="showSection('visualization')">–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è</a></li>
            <li><a href="#" onclick="showSection('practice')">–ü—Ä–∞–∫—Ç–∏–∫–∞</a></li>
            <li><a href="#" onclick="showSection('tests')">–¢–µ—Å—Ç–∏</a></li>
            <li><a href="#" onclick="showSection('resources')">–†–µ—Å—É—Ä—Å–∏</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <!-- –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ -->
        <section id="home" class="section active">
            <h2>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!</h2>
            <p>–¶–µ–π –Ω–∞–≤—á–∞–ª—å–Ω–∏–π —Å–∞–π—Ç –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</p>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>–ë—É–ª—å–±–∞—à–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (Bubble Sort)</li>
                <li>–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä–æ–º (Selection Sort)</li>
                <li>–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–ª–∏—Ç—Ç—è–º (Merge Sort)</li>
            </ul>
            <p>–í–∏ –Ω–∞–≤—á–∏—Ç–µ—Å—è:</p>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>–†–æ–∑—É–º—ñ—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ —Ä–æ–±–æ—Ç–∏ –∫–æ–∂–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É</li>
                <li>–í—ñ–∑—É–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</li>
                <li>–†–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –º–æ–≤–æ—é Python</li>
                <li>–ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</li>
            </ul>
        </section>
        
        <!-- –¢–µ–æ—Ä—ñ—è -->
        <section id="theory" class="section">
            <h2>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª</h2>
            
            <div class="algorithm-box">
                <h3>1. –ë—É–ª—å–±–∞—à–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (Bubble Sort)</h3>
                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –º–∞—Å–∏–≤—É —ñ –ø–æ—Ä—ñ–≤–Ω—é—î —Å—É—Å—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏. –Ø–∫—â–æ –≤–æ–Ω–∏ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ñ–Ω –º—ñ–Ω—è—î —ó—Ö –º—ñ—Å—Ü—è–º–∏. –ü—Ä–æ—Ü–µ—Å –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è, –ø–æ–∫–∏ –º–∞—Å–∏–≤ –Ω–µ –±—É–¥–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π.</p>
                <p><strong>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:</strong> O(n¬≤)</p>
                <pre><code>def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(0, n-i-1):
            if arr[j] > arr[j+1]:
                arr[j], arr[j+1] = arr[j+1], arr[j]
    return arr</code></pre>
            </div>
            
            <div class="algorithm-box">
                <h3>2. –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä–æ–º (Selection Sort)</h3>
                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —É –Ω–µ–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –º–∞—Å–∏–≤—É —ñ —Å—Ç–∞–≤–∏—Ç—å –π–æ–≥–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫.</p>
                <p><strong>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:</strong> O(n¬≤)</p>
                <pre><code>def selection_sort(arr):
    n = len(arr)
    for i in range(n):
        min_idx = i
        for j in range(i+1, n):
            if arr[j] < arr[min_idx]:
                min_idx = j
        arr[i], arr[min_idx] = arr[min_idx], arr[i]
    return arr</code></pre>
            </div>
            
            <div class="algorithm-box">
                <h3>3. –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–ª–∏—Ç—Ç—è–º (Merge Sort)</h3>
                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –¥—ñ–ª–∏—Ç—å –º–∞—Å–∏–≤ –Ω–∞–≤–ø—ñ–ª, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç—É—î –æ–±–∏–¥–≤—ñ —á–∞—Å—Ç–∏–Ω–∏, –∞ –ø–æ—Ç—ñ–º –∑–ª–∏–≤–∞—î —ó—Ö —É –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –º–∞—Å–∏–≤.</p>
                <p><strong>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:</strong> O(n log n)</p>
                <pre><code>def merge_sort(arr):
    if len(arr) <= 1:
        return arr
    
    mid = len(arr) // 2
    left = merge_sort(arr[:mid])
    right = merge_sort(arr[mid:])
    
    return merge(left, right)

def merge(left, right):
    result = []
    i = j = 0
    
    while i < len(left) and j < len(right):
        if left[i] < right[j]:
            result.append(left[i])
            i += 1
        else:
            result.append(right[j])
            j += 1
    
    result.extend(left[i:])
    result.extend(right[j:])
    return result</code></pre>
            </div>
        </section>
        
        <!-- –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è -->
        <section id="visualization" class="section">
            <h2>–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</h2>
            
            <div class="visualization">
                <h3>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:</h3>
                <div style="margin: 1rem 0;">
                    <label>–†–æ–∑–º—ñ—Ä –º–∞—Å–∏–≤—É: <span id="size-value">10</span></label>
                    <input type="range" id="array-size" min="5" max="20" value="10" onchange="updateArraySize()">
                    
                    <label style="margin-left: 2rem;">–®–≤–∏–¥–∫—ñ—Å—Ç—å: <span id="speed-value">500</span>–º—Å</label>
                    <input type="range" id="speed" min="100" max="1000" value="500" step="100" onchange="updateSpeed()">
                </div>
                
                <div style="margin: 1rem 0;">
                    <button onclick="generateRandomArray()">–í–∏–ø–∞–¥–∫–æ–≤–∏–π –º–∞—Å–∏–≤</button>
                    <button onclick="generateReversedArray()">–ó–≤–æ—Ä–æ—Ç–Ω—ñ–π –ø–æ—Ä—è–¥–æ–∫</button>
                    <button onclick="generateNearlySorted()">–ú–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π</button>
                </div>
                
                <h3>–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º:</h3>
                <button onclick="startVisualization('bubble')">–ë—É–ª—å–±–∞—à–∫–æ–≤–µ</button>
                <button onclick="startVisualization('selection')">–í–∏–±–æ—Ä–æ–º</button>
                <button onclick="startVisualization('merge')">–ó–ª–∏—Ç—Ç—è–º</button>
                <button onclick="pauseVisualization()" id="pause-btn">–ü–∞—É–∑–∞</button>
                <button onclick="resetVisualization()">–°–∫–∏–Ω—É—Ç–∏</button>
                
                <div id="array-container" style="margin-top: 2rem;">
                    <!-- –î–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è -->
                </div>
                
                <div style="margin-top: 1rem; display: flex; justify-content: space-around;">
                    <div>–ü–æ—Ä—ñ–≤–Ω—è–Ω—å: <span id="comparisons">0</span></div>
                    <div>–û–±–º—ñ–Ω—ñ–≤: <span id="swaps">0</span></div>
                    <div>–ß–∞—Å: <span id="time">0</span>—Å</div>
                </div>
                
                <p id="status" style="margin-top: 1rem;">–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ—á–∞—Ç–∫—É</p>
            </div>
            
            <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–¥ -->
            <div class="algorithm-box" style="margin-top: 2rem;">
                <h3>–°–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º—ñ –Ω–∞–ø–∏—Å–∞—Ç–∏ –∫–æ–¥:</h3>
                <div style="display: flex; gap: 1rem;">
                    <div style="flex: 1;">
                        <h4>–í–∞—à –∫–æ–¥:</h4>
                        <textarea id="user-code" rows="10" style="width: 100%; font-family: monospace;">
def bubble_sort(arr):
    # –ù–∞–ø–∏—à—ñ—Ç—å –≤–∞—à –∫–æ–¥ —Ç—É—Ç
    n = len(arr)
    # ...
    return arr</textarea>
                        <button onclick="testUserCode()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–¥</button>
                    </div>
                    <div style="flex: 1;">
                        <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
                        <div id="code-result" style="background: #f4f4f4; padding: 1rem; min-height: 200px;">
                            –ù–∞–ø–∏—à—ñ—Ç—å –∫–æ–¥ —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏"
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ -->
        <section id="practice" class="section">
            <h2>–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>
            
            <!-- –ì—Ä–∞: –†–æ–∑–ø—ñ–∑–Ω–∞–π –ø–∞—Ç–µ—Ä–Ω -->
            <div class="algorithm-box">
                <h3>üß© –ì—Ä–∞: –†–æ–∑–ø—ñ–∑–Ω–∞–π –ø–∞—Ç–µ—Ä–Ω —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</h3>
                <p>–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –æ–±–º—ñ–Ω—ñ–≤ —Ç–∞ –≤–≥–∞–¥–∞–π—Ç–µ, —è–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:</p>
                
                <div class="pattern-game">
                    <div id="pattern-array">
                        <!-- –î–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è -->
                    </div>
                    <div style="margin: 1rem 0;">
                        <button onclick="startPatternGame()">–ù–æ–≤–∞ –≥—Ä–∞</button>
                        <button onclick="showPatternStep()" id="show-step-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫</button>
                    </div>
                    <div>
                        <label><input type="radio" name="pattern-guess" value="bubble"> Bubble Sort</label>
                        <label><input type="radio" name="pattern-guess" value="selection"> Selection Sort</label>
                    </div>
                    <button onclick="checkPatternGuess()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                    <div id="pattern-result"></div>
                </div>
            </div>
            
            <!-- –ü–∞–º'—è—Ç–Ω–∞ –≥—Ä–∞ –∑ —á–∏—Å–ª–∞–º–∏ -->
            <div class="algorithm-box">
                <h3>üß† –ì—Ä–∞ –Ω–∞ –ø–∞–º'—è—Ç—å: –ó–∞–ø–∞–º'—è—Ç–∞–π –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å</h3>
                <p>–ó–∞–ø–∞–º'—è—Ç–∞–π—Ç–µ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –º–∞—Å–∏–≤, –ø–æ—Ç—ñ–º –≤—ñ–¥—Ç–≤–æ—Ä—ñ—Ç—å –π–æ–≥–æ –ø—ñ—Å–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</p>
                
                <div style="text-align: center;">
                    <div id="memory-display" style="margin: 1rem 0; font-size: 1.2rem;">
                        –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–æ—á–∞—Ç–∏", —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –º–∞—Å–∏–≤
                    </div>
                    <button onclick="startMemoryGame()">–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
                    <button onclick="showMemoryArray()" id="show-memory-btn" class="hidden">–ü–æ–∫–∞–∑–∞—Ç–∏ –º–∞—Å–∏–≤ (3 —Å–µ–∫)</button>
                    
                    <div class="memory-game" id="memory-input" style="display: none;">
                        <!-- –î–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è -->
                    </div>
                    <div id="memory-result"></div>
                </div>
            </div>
            
            <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
            <div class="task-card">
                <span class="difficulty easy">–õ–µ–≥–∫–∏–π</span>
                <h3>–ó–∞–≤–¥–∞–Ω–Ω—è 1: –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –ø—Ä–æ–ø—É—Å–∫–∏</h3>
                <p>–î–æ–ø–æ–≤–Ω—ñ—Ç—å –∫–æ–¥ –±—É–ª—å–±–∞—à–∫–æ–≤–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</p>
                <pre style="background: #f8f9fa; color: #333;">
def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(0, <input type="text" id="gap1" style="width: 60px;" placeholder="?">):
            if arr[j] <select id="gap2"><option value="">?</option><option value=">">&gt;</option><option value="<">&lt;</option></select> arr[j+1]:
                arr[j], arr[j+1] = <input type="text" id="gap3" style="width: 100px;" placeholder="?">
    return arr
                </pre>
                <button onclick="checkGapFilling()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                <div id="gap-result"></div>
            </div>
            
            <div class="task-card">
                <span class="difficulty medium">–°–µ—Ä–µ–¥–Ω—ñ–π</span>
                <h3>–ó–∞–≤–¥–∞–Ω–Ω—è 2: –ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ–º–∏–ª–∫—É</h3>
                <p>–£ –∫–æ–¥—ñ —î –ø–æ–º–∏–ª–∫–∞. –ó–Ω–∞–π–¥—ñ—Ç—å —Ç–∞ –≤–∏–ø—Ä–∞–≤—Ç–µ —ó—ó:</p>
                <pre contenteditable="true" id="buggy-code" style="background: #f8f9fa; color: #333; padding: 1rem;">
def selection_sort(arr):
    n = len(arr)
    for i in range(n):
        min_idx = i
        for j in range(i, n):  # –ü–æ–º–∏–ª–∫–∞ —Ç—É—Ç!
            if arr[j] < arr[min_idx]:
                min_idx = j
        arr[i], arr[min_idx] = arr[min_idx], arr[i]
    return arr
                </pre>
                <button onclick="checkBugFix()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è</button>
                <div id="bug-result"></div>
            </div>
            
            <div class="task-card">
                <span class="difficulty hard">–°–∫–ª–∞–¥–Ω–∏–π</span>
                <h3>–ó–∞–≤–¥–∞–Ω–Ω—è 3: –ó–º–∞–≥–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</h3>
                <p>–ü–µ—Ä–µ–¥–±–∞—á—Ç–µ, —è–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —à–≤–∏–¥—à–µ –≤—ñ–¥—Å–æ—Ä—Ç—É—î –º–∞—Å–∏–≤:</p>
                <div id="algorithm-race">
                    <p>–ú–∞—Å–∏–≤: <span id="race-array">[5, 2, 8, 1, 9]</span></p>
                    <div style="margin: 1rem 0;">
                        <label><input type="radio" name="prediction" value="bubble"> Bubble Sort</label>
                        <label><input type="radio" name="prediction" value="selection"> Selection Sort</label>
                        <label><input type="radio" name="prediction" value="merge"> Merge Sort</label>
                    </div>
                    <button onclick="startRace()">–ü–æ—á–∞—Ç–∏ –∑–º–∞–≥–∞–Ω–Ω—è</button>
                    <div id="race-result" style="margin-top: 1rem;"></div>
                </div>
            </div>
        </section>
        
        <!-- –¢–µ—Å—Ç–∏ -->
        <section id="tests" class="section">
          <h2>–¢–µ—Å—Ç–∏ –¥–ª—è —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏</h2>
        
          <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ç–µ—Å—Ç -->
          <div class="quiz-container">
            <h3>–¢–µ—Å—Ç 1: –û—Å–Ω–æ–≤–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</h3>
            <div id="quiz-questions">
              <div class="question-block">
                <p>1. –Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–∞—î –Ω–∞–π–≥—ñ—Ä—à—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å O(n¬≤)?</p>
                <label><input type="radio" name="q1" value="a"> Merge Sort</label><br>
                <label><input type="radio" name="q1" value="b"> Bubble Sort</label><br>
                <label><input type="radio" name="q1" value="c"> Quick Sort</label>
              </div>
              <div class="question-block">
                <p>2. –Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —î —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º?</p>
                <label><input type="radio" name="q2" value="a"> Selection Sort</label><br>
                <label><input type="radio" name="q2" value="b"> Merge Sort</label><br>
                <label><input type="radio" name="q2" value="c"> Heap Sort</label>
              </div>
              <div class="question-block">
                <p>3. –°–∫—ñ–ª—å–∫–∏ –ø—ñ–¥–º–∞—Å–∏–≤—ñ–≤ —Å—Ç–≤–æ—Ä—é—î merge sort –Ω–∞ –ø–µ—Ä—à–æ–º—É –∫—Ä–æ—Ü—ñ –¥–ª—è 8 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤?</p>
                <label><input type="radio" name="q3" value="a"> 2</label><br>
                <label><input type="radio" name="q3" value="b"> 4</label><br>
                <label><input type="radio" name="q3" value="c"> 8</label>
              </div>
              <div class="question-block">
                <p>4. –Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –∫—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –º–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –º–∞—Å–∏–≤—ñ–≤?</p>
                <label><input type="radio" name="q4" value="a"> Insertion Sort</label><br>
                <label><input type="radio" name="q4" value="b"> Bubble Sort</label><br>
                <label><input type="radio" name="q4" value="c"> Merge Sort</label>
              </div>
              <div class="question-block">
                <p>5. –Ø–∫–∏–π –∑ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –Ω–µ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ?</p>
                <label><input type="radio" name="q5" value="a"> Radix Sort</label><br>
                <label><input type="radio" name="q5" value="b"> Selection Sort</label><br>
                <label><input type="radio" name="q5" value="c"> Quick Sort</label>
              </div>
            </div>
            <button onclick="gradeQuiz()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</button>
            <div id="quiz-result" style="margin-top: 1rem;"></div>
            <div id="exam-link-container" class="hidden" style="text-align: center; margin-top: 2rem;">
                <a href="exam.html" class="exam-link">üéì –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∑–∞–ª—ñ–∫–æ–≤–æ–≥–æ —Ç–µ—Å—Ç—É</a>
                <p style="color: #27ae60; font-weight: bold;">–í—ñ—Ç–∞—î–º–æ! –í–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ –∑–∞–ª—ñ–∫—É!</p>
            </div>
          </div>
        
          <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –≤–ø—Ä–∞–≤–∏ -->
          <div class="algorithm-box" style="margin-top: 2rem;">
            <h3>–í–ø—Ä–∞–≤–∞: –í–∏–∑–Ω–∞—á—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º</h3>
            <p>–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—é —Ç–∞ –≤–∏–∑–Ω–∞—á—Ç–µ, —è–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:</p>
            <div id="mystery-sort" style="background: #2c3e50; padding: 1rem; margin: 1rem 0;">
              <div id="mystery-array" style="text-align: center; display: flex; justify-content: center; gap: 4px;"></div>
            </div>
            <div>
              <label><input type="radio" name="mystery" value="bubble"> Bubble Sort</label>
              <label><input type="radio" name="mystery" value="selection"> Selection Sort</label>
              <label><input type="radio" name="mystery" value="insertion"> Insertion Sort</label>
            </div>
            <button onclick="startMysterySort()">–ü–æ–∫–∞–∑–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—é</button>
            <button onclick="checkMysteryAnswer()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
            <div id="mystery-result"></div>
          </div>
        
          <!-- Drag & Drop –≤–ø—Ä–∞–≤–∞ -->
          <div class="algorithm-box">
            <h3>–í–ø—Ä–∞–≤–∞: –†–æ–∑—Å—Ç–∞–≤—Ç–µ –∫—Ä–æ–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—É</h3>
            <p>–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –∫—Ä–æ–∫–∏ —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É –¥–ª—è bubble sort:</p>
            <div id="steps-container" style="display: flex; gap: 2rem; margin: 1rem 0;">
              <div style="flex: 1;">
                <h4>–ö—Ä–æ–∫–∏ (–ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å ‚Üí)</h4>
                <div id="available-steps" class="dropzone">
                    <div class="draggable-step" draggable="true" data-step="1">–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Å—É—Å—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏</div>
                    <div class="draggable-step" draggable="true" data-step="2">–ü–æ–º—ñ–Ω—è—Ç–∏ –º—ñ—Å—Ü—è–º–∏, —è–∫—â–æ –ø–µ—Ä—à–∏–π –±—ñ–ª—å—à–∏–π</div>
                    <div class="draggable-step" draggable="true" data-step="3">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –ø–∞—Ä–∏</div>
                    <div class="draggable-step" draggable="true" data-step="4">–ü–æ–≤—Ç–æ—Ä–∏—Ç–∏ –¥–æ –∫—ñ–Ω—Ü—è –º–∞—Å–∏–≤—É</div>
                </div>
              </div>
              <div style="flex: 1;">
                <h4>–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫</h4>
                <div id="ordered-steps" class="dropzone"></div>
              </div>
            </div>
            <button onclick="checkStepsOrder()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫</button>
            <div id="steps-result"></div>
          </div>
        
          <!-- –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç -->
          <div class="algorithm-box">
            <h3>–®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç: True/False</h3>
            <div id="true-false-container">
              <div class="question" style="margin: 1rem 0;">
                <p>1. Bubble sort –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ–Ω—É—î O(n¬≤) –æ–ø–µ—Ä–∞—Ü—ñ–π</p>
                <button onclick="answerTrueFalse(1, true)">True</button>
                <button onclick="answerTrueFalse(1, false)">False</button>
                <span id="tf-result-1"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>2. Merge sort –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–∏–Ω—Ü–∏–ø "—Ä–æ–∑–¥—ñ–ª—è–π —ñ –≤–æ–ª–æ–¥–∞—Ä—é–π"</p>
                <button onclick="answerTrueFalse(2, true)">True</button>
                <button onclick="answerTrueFalse(2, false)">False</button>
                <span id="tf-result-2"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>3. Selection sort —î —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º</p>
                <button onclick="answerTrueFalse(3, true)">True</button>
                <button onclick="answerTrueFalse(3, false)">False</button>
                <span id="tf-result-3"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>4. Quick sort –∑–∞–≤–∂–¥–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π</p>
                <button onclick="answerTrueFalse(4, true)">True</button>
                <button onclick="answerTrueFalse(4, false)">False</button>
                <span id="tf-result-4"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>5. Merge sort –≥–∞—Ä–∞–Ω—Ç—É—î O(n log n) —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É</p>
                <button onclick="answerTrueFalse(5, true)">True</button>
                <button onclick="answerTrueFalse(5, false)">False</button>
                <span id="tf-result-5"></span>
              </div>
            </div>
            <div id="tf-score" style="margin-top: 1rem;"></div>
          </div>
        </section>
        
        <!-- –†–µ—Å—É—Ä—Å–∏ -->
        <section id="resources" class="section">
            <h2>–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏</h2>
            
            <h3>üåê –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li><a href="https://visualgo.net/en/sorting" target="_blank">VisuAlgo - –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</a></li>
                <li><a href="https://www.toptal.com/developers/sorting-algorithms" target="_blank">–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</a></li>
                <li><a href="https://www.geeksforgeeks.org/sorting-algorithms/" target="_blank">GeeksforGeeks - –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</a></li>
            </ul>
            
            <h3>üìñ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>"–ê–ª–≥–æ—Ä–∏—Ç–º–∏: –ø–æ–±—É–¥–æ–≤–∞ —Ç–∞ –∞–Ω–∞–ª—ñ–∑" - –¢–æ–º–∞—Å –ö–æ—Ä–º–µ–Ω</li>
                <li>"–°—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –≤ Python" - –ú–∞–π–∫–ª –ì—É–¥—Ä—ñ—á</li>
            </ul>
            
            <h3>üé• –í—ñ–¥–µ–æ-—É—Ä–æ–∫–∏:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>CS50 - –õ–µ–∫—Ü—ñ—è –ø—Ä–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</li>
                <li>Computerphile - –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</li>
            </ul>
        </section>
    </div>
    
    <script>
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
        }
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        let sortingInProgress = false;
        let isPaused = false;
        let currentSpeed = 500;
        let currentArraySize = 10;
        let comparisons = 0;
        let swaps = 0;
        let startTime = 0;
        
        // –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        function generateArray(size) {
            const container = document.getElementById('array-container');
            container.innerHTML = '';
            const values = [];
            
            for (let i = 0; i < size; i++) {
                const value = Math.floor(Math.random() * 10) + 1;
                values.push(value);
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = value * 10 + 'px';
                bar.textContent = value;
                container.appendChild(bar);
            }
            
            return values;
        }
        
        function updateArraySize() {
            currentArraySize = document.getElementById('array-size').value;
            document.getElementById('size-value').textContent = currentArraySize;
            if (!sortingInProgress) {
                generateArray(currentArraySize);
            }
        }
        
        function updateSpeed() {
            currentSpeed = document.getElementById('speed').value;
            document.getElementById('speed-value').textContent = currentSpeed;
        }
        
        function generateRandomArray() {
            if (!sortingInProgress) {
                generateArray(currentArraySize);
                resetStats();
            }
        }
        
        function generateReversedArray() {
            if (!sortingInProgress) {
                const container = document.getElementById('array-container');
                container.innerHTML = '';
                for (let i = currentArraySize; i > 0; i--) {
                    const bar = document.createElement('div');
                    bar.className = 'bar';
                    bar.style.height = i * 10 + 'px';
                    bar.textContent = i;
                    container.appendChild(bar);
                }
                resetStats();
            }
        }
        
        function generateNearlySorted() {
            if (!sortingInProgress) {
                const container = document.getElementById('array-container');
                container.innerHTML = '';
                const values = [];
                for (let i = 1; i <= currentArraySize; i++) {
                    values.push(i);
                }
                // –†–æ–±–∏–º–æ –∫—ñ–ª—å–∫–∞ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –æ–±–º—ñ–Ω—ñ–≤
                for (let i = 0; i < 2; i++) {
                    const idx1 = Math.floor(Math.random() * currentArraySize);
                    const idx2 = Math.floor(Math.random() * currentArraySize);
                    [values[idx1], values[idx2]] = [values[idx2], values[idx1]];
                }
                
                values.forEach(value => {
                    const bar = document.createElement('div');
                    bar.className = 'bar';
                    bar.style.height = value * 10 + 'px';
                    bar.textContent = value;
                    container.appendChild(bar);
                });
                resetStats();
            }
        }
        
        function resetStats() {
            comparisons = 0;
            swaps = 0;
            document.getElementById('comparisons').textContent = '0';
            document.getElementById('swaps').textContent = '0';
            document.getElementById('time').textContent = '0';
        }
        
        function updateStats() {
            document.getElementById('comparisons').textContent = comparisons;
            document.getElementById('swaps').textContent = swaps;
            const elapsed = ((Date.now() - startTime) / 1000).toFixed(1);
            document.getElementById('time').textContent = elapsed;
        }
        
        function getArrayValues() {
            const bars = document.querySelectorAll('.bar');
            return Array.from(bars).map(bar => parseInt(bar.textContent));
        }
        
        function updateBars(values) {
            const bars = document.querySelectorAll('.bar');
            bars.forEach((bar, index) => {
                bar.style.height = values[index] * 10 + 'px';
                bar.textContent = values[index];
            });
        }
        
        async function bubbleSortVisualization() {
            const values = getArrayValues();
            const bars = document.querySelectorAll('.bar');
            const n = values.length;
            
            for (let i = 0; i < n && sortingInProgress; i++) {
                for (let j = 0; j < n - i - 1 && sortingInProgress; j++) {
                    while (isPaused && sortingInProgress) {
                        await sleep(100);
                    }
                    
                    bars[j].classList.add('comparing');
                    bars[j + 1].classList.add('comparing');
                    comparisons++;
                    updateStats();
                    
                    await sleep(currentSpeed);
                    
                    if (values[j] > values[j + 1]) {
                        [values[j], values[j + 1]] = [values[j + 1], values[j]];
                        updateBars(values);
                        swaps++;
                        updateStats();
                    }
                    
                    bars[j].classList.remove('comparing');
                    bars[j + 1].classList.remove('comparing');
                }
                bars[n - i - 1].classList.add('sorted');
            }
            
            if (sortingInProgress) {
                document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!';
                sortingInProgress = false;
            }
        }
        
        async function selectionSortVisualization() {
            const values = getArrayValues();
            const bars = document.querySelectorAll('.bar');
            const n = values.length;
            
            for (let i = 0; i < n && sortingInProgress; i++) {
                let minIdx = i;
                bars[i].classList.add('comparing');
                
                for (let j = i + 1; j < n && sortingInProgress; j++) {
                    while (isPaused && sortingInProgress) {
                        await sleep(100);
                    }
                    
                    bars[j].classList.add('comparing');
                    comparisons++;
                    updateStats();
                    await sleep(currentSpeed);
                    
                    if (values[j] < values[minIdx]) {
                        if (minIdx !== i) bars[minIdx].classList.remove('comparing');
                        minIdx = j;
                    } else {
                        bars[j].classList.remove('comparing');
                    }
                }
                
                if (minIdx !== i) {
                    [values[i], values[minIdx]] = [values[minIdx], values[i]];
                    updateBars(values);
                    swaps++;
                    updateStats();
                }
                
                bars.forEach(bar => bar.classList.remove('comparing'));
                bars[i].classList.add('sorted');
                await sleep(currentSpeed);
            }
            
            if (sortingInProgress) {
                document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!';
                sortingInProgress = false;
            }
        }

        async function mergeSortVisualization() {
            const values = getArrayValues();
            const bars = document.querySelectorAll('.bar');
        
            function setMergingColor(start, end) {
                for (let i = start; i <= end; i++) {
                    bars[i].classList.add('merging');
                }
            }
        
            function clearMergingColor(start, end) {
                for (let i = start; i <= end; i++) {
                    bars[i].classList.remove('merging');
                }
            }
        
            async function merge(start, mid, end) {
                const left = values.slice(start, mid + 1);
                const right = values.slice(mid + 1, end + 1);
        
                let i = 0, j = 0, k = start;
        
                setMergingColor(start, end);
        
                while (i < left.length && j < right.length && sortingInProgress) {
                    while (isPaused && sortingInProgress) await sleep(100);
        
                    bars[k].classList.add('comparing');
                    comparisons++;
                    updateStats();
                    await sleep(currentSpeed);
        
                    if (left[i] <= right[j]) {
                        values[k] = left[i++];
                    } else {
                        values[k] = right[j++];
                        swaps++;
                    }
        
                    updateBars(values);
                    updateStats();
                    bars[k].classList.remove('comparing');
                    k++;
                }
        
                while (i < left.length && sortingInProgress) {
                    while (isPaused && sortingInProgress) await sleep(100);
                    values[k++] = left[i++];
                    updateBars(values);
                    swaps++;
                    updateStats();
                    await sleep(currentSpeed);
                }
        
                while (j < right.length && sortingInProgress) {
                    while (isPaused && sortingInProgress) await sleep(100);
                    values[k++] = right[j++];
                    updateBars(values);
                    swaps++;
                    updateStats();
                    await sleep(currentSpeed);
                }
        
                clearMergingColor(start, end);
            }
        
            async function mergeSort(start, end) {
                if (start >= end || !sortingInProgress) return;
                const mid = Math.floor((start + end) / 2);
                await mergeSort(start, mid);
                await mergeSort(mid + 1, end);
                await merge(start, mid, end);
            }
        
            await mergeSort(0, values.length - 1);
        
            // –ü—ñ—Å–ª—è –ø–æ–≤–Ω–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è ‚Äî –ø–æ–∑–Ω–∞—á–∞—î–º–æ –∑–µ–ª–µ–Ω–∏–º (sorted)
            for (let i = 0; i < values.length; i++) {
                bars[i].classList.add('sorted');
                await sleep(10); // –ø–ª–∞–≤–Ω–µ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è
            }
        
            if (sortingInProgress) {
                document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!';
                sortingInProgress = false;
            }
        }

        function startVisualization(algorithm) {
            if (sortingInProgress) return;
            
            resetVisualization();
            sortingInProgress = true;
            isPaused = false;
            startTime = Date.now();
            document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è...';
            document.getElementById('pause-btn').textContent = '–ü–∞—É–∑–∞';
            
            switch(algorithm) {
                case 'bubble':
                    bubbleSortVisualization();
                    break;
                case 'selection':
                    selectionSortVisualization();
                    break;
                case 'merge':
                    mergeSortVisualization();
                    break;
            }
        }
        
        function pauseVisualization() {
            if (sortingInProgress) {
                isPaused = !isPaused;
                document.getElementById('pause-btn').textContent = isPaused ? '–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏' : '–ü–∞—É–∑–∞';
            }
        }
        
        function resetVisualization() {
            sortingInProgress = false;
            isPaused = false;
            const bars = document.querySelectorAll('.bar');
            bars.forEach(bar => {
                bar.classList.remove('comparing', 'sorted', 'merging');
            });
            document.getElementById('status').textContent = '–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ—á–∞—Ç–∫—É';
            resetStats();
        }
        
        // –ù–æ–≤—ñ —ñ–≥—Ä–∏
        let patternAlgorithm = '';
        let patternSteps = [];
        let currentPatternStep = 0;
        
        function startPatternGame() {
            const algorithms = ['bubble', 'selection'];
            patternAlgorithm = algorithms[Math.floor(Math.random() * algorithms.length)];
            
            const array = [4, 2, 7, 1, 3];
            const container = document.getElementById('pattern-array');
            container.innerHTML = '';
            
            array.forEach((val, idx) => {
                const elem = document.createElement('div');
                elem.className = 'pattern-bar';
                elem.textContent = val;
                elem.id = `pattern-${idx}`;
                container.appendChild(elem);
            });
            
            // –ì–µ–Ω–µ—Ä—É—î–º–æ –∫—Ä–æ–∫–∏ –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º—É
            patternSteps = generatePatternSteps(array, patternAlgorithm);
            currentPatternStep = 0;
            
            document.getElementById('show-step-btn').disabled = false;
            document.getElementById('pattern-result').innerHTML = '';
        }
        
        function generatePatternSteps(arr, algorithm) {
            const steps = [];
            const values = [...arr];
            
            if (algorithm === 'bubble') {
                for (let i = 0; i < values.length; i++) {
                    for (let j = 0; j < values.length - i - 1; j++) {
                        steps.push({type: 'compare', indices: [j, j + 1]});
                        if (values[j] > values[j + 1]) {
                            [values[j], values[j + 1]] = [values[j + 1], values[j]];
                            steps.push({type: 'swap', indices: [j, j + 1]});
                        }
                    }
                }
            } else if (algorithm === 'selection') {
                for (let i = 0; i < values.length; i++) {
                    let minIdx = i;
                    for (let j = i + 1; j < values.length; j++) {
                        steps.push({type: 'compare', indices: [minIdx, j]});
                        if (values[j] < values[minIdx]) {
                            minIdx = j;
                        }
                    }
                    if (minIdx !== i) {
                        [values[i], values[minIdx]] = [values[minIdx], values[i]];
                        steps.push({type: 'swap', indices: [i, minIdx]});
                    }
                }
            }
            
            return steps;
        }
        
        function showPatternStep() {
            if (currentPatternStep >= patternSteps.length) return;
            
            const step = patternSteps[currentPatternStep];
            const [idx1, idx2] = step.indices;
            
            // –û—á–∏—â–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è
            document.querySelectorAll('.pattern-bar').forEach(bar => bar.classList.remove('selected'));
            
            // –í–∏–¥—ñ–ª—è—î–º–æ –ø–æ—Ç–æ—á–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
            document.getElementById(`pattern-${idx1}`).classList.add('selected');
            document.getElementById(`pattern-${idx2}`).classList.add('selected');
            
            if (step.type === 'swap') {
                // –ú—ñ–Ω—è—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –º—ñ—Å—Ü—è–º–∏
                const elem1 = document.getElementById(`pattern-${idx1}`);
                const elem2 = document.getElementById(`pattern-${idx2}`);
                const temp = elem1.textContent;
                elem1.textContent = elem2.textContent;
                elem2.textContent = temp;
            }
            
            currentPatternStep++;
            
            if (currentPatternStep >= patternSteps.length) {
                document.getElementById('show-step-btn').disabled = true;
            }
        }
        
        function checkPatternGuess() {
            const selected = document.querySelector('input[name="pattern-guess"]:checked');
            if (!selected) {
                alert('–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º!');
                return;
            }
            
            if (selected.value === patternAlgorithm) {
                document.getElementById('pattern-result').innerHTML = 
                    '<p style="color: green;">‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ ' + patternAlgorithm + ' sort!</p>';
            } else {
                document.getElementById('pattern-result').innerHTML = 
                    '<p style="color: red;">‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!</p>';
            }
        }
        
        // –ì—Ä–∞ –Ω–∞ –ø–∞–º'—è—Ç—å
        let memoryArray = [];
        let memoryInput = [];
        
        function startMemoryGame() {
            memoryArray = [];
            for (let i = 0; i < 6; i++) {
                memoryArray.push(Math.floor(Math.random() * 9) + 1);
            }
            
            document.getElementById('memory-display').textContent = '–ú–∞—Å–∏–≤: [' + memoryArray.join(', ') + ']';
            document.getElementById('show-memory-btn').classList.remove('hidden');
            document.getElementById('memory-result').innerHTML = '';
        }
        
        function showMemoryArray() {
            const sortedArray = [...memoryArray].sort((a, b) => a - b);
            document.getElementById('memory-display').textContent = '–í—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π: [' + sortedArray.join(', ') + ']';
            
            setTimeout(() => {
                document.getElementById('memory-display').textContent = '–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –º–∞—Å–∏–≤:';
                document.getElementById('show-memory-btn').classList.add('hidden');
                createMemoryInput();
            }, 3000);
        }
        
        function createMemoryInput() {
            const container = document.getElementById('memory-input');
            container.style.display = 'grid';
            container.innerHTML = '';
            memoryInput = new Array(6).fill(0);
            
            for (let i = 0; i < 6; i++) {
                const input = document.createElement('input');
                input.type = 'number';
                input.min = '1';
                input.max = '9';
                input.style.width = '40px';
                input.style.textAlign = 'center';
                input.onchange = (e) => {
                    memoryInput[i] = parseInt(e.target.value) || 0;
                    checkMemoryCompletion();
                };
                container.appendChild(input);
            }
        }
        
        function checkMemoryCompletion() {
            if (memoryInput.every(val => val > 0)) {
                const correctSorted = [...memoryArray].sort((a, b) => a - b);
                const isCorrect = JSON.stringify(memoryInput) === JSON.stringify(correctSorted);
                
                if (isCorrect) {
                    document.getElementById('memory-result').innerHTML = 
                        '<p style="color: green;">üéâ –ß—É–¥–æ–≤–æ! –í–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø–∞–º\'—è—Ç–∞–ª–∏ —Ç–∞ –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞–ª–∏ –º–∞—Å–∏–≤!</p>';
                } else {
                    document.getElementById('memory-result').innerHTML = 
                        '<p style="color: red;">‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: [' + correctSorted.join(', ') + ']</p>';
                }
            }
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É –∑ –ø—Ä–æ–ø—É—Å–∫–∞–º–∏
        function checkGapFilling() {
            const gap1 = document.getElementById('gap1').value.trim();
            const gap2 = document.getElementById('gap2').value;
            const gap3 = document.getElementById('gap3').value.trim();
            
            const correct1 = gap1 === 'n-i-1' || gap1 === 'n - i - 1';
            const correct2 = gap2 === '>';
            const correct3 = gap3 === 'arr[j+1], arr[j]' || gap3 === 'arr[j + 1], arr[j]';
            
            let result = '';
            if (correct1 && correct2 && correct3) {
                result = '<p style="color: green;">‚úì –í—ñ–¥–º—ñ–Ω–Ω–æ! –í—Å—ñ –ø—Ä–æ–ø—É—Å–∫–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</p>';
            } else {
                result = '<p style="color: red;">‚úó –Ñ –ø–æ–º–∏–ª–∫–∏. –ü—ñ–¥–∫–∞–∑–∫–∏:<br>';
                if (!correct1) result += '- –ü–µ—Ä—à–∏–π –ø—Ä–æ–ø—É—Å–∫: –ø–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ –º–µ–∂—ñ —Ü–∏–∫–ª—É<br>';
                if (!correct2) result += '- –î—Ä—É–≥–∏–π –ø—Ä–æ–ø—É—Å–∫: —è–∫–∏–π –∑–Ω–∞–∫ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–ª—è –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è?<br>';
                if (!correct3) result += '- –¢—Ä–µ—Ç—ñ–π –ø—Ä–æ–ø—É—Å–∫: —è–∫ –ø–æ–º—ñ–Ω—è—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –º—ñ—Å—Ü—è–º–∏?<br>';
                result += '</p>';
            }
            
            document.getElementById('gap-result').innerHTML = result;
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏
        function checkBugFix() {
            const code = document.getElementById('buggy-code').textContent;
            const hasCorrectRange = code.includes('range(i+1, n)') || code.includes('range(i + 1, n)');
            
            if (hasCorrectRange) {
                document.getElementById('bug-result').innerHTML = 
                    '<p style="color: green;">‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Ü–∏–∫–ª –ø–æ–≤–∏–Ω–µ–Ω –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ i+1, –∞ –Ω–µ –∑ i</p>';
            } else {
                document.getElementById('bug-result').innerHTML = 
                    '<p style="color: red;">‚úó –ü–æ–º–∏–ª–∫–∞ –≤—Å–µ —â–µ —î. –ü–æ–¥—É–º–∞–π—Ç–µ: —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç —Å–∞–º –∑ —Å–æ–±–æ—é?</p>';
            }
        }
        
        // –ó–º–∞–≥–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤
        async function startRace() {
            const prediction = document.querySelector('input[name="prediction"]:checked');
            if (!prediction) {
                alert('–°–ø–æ—á–∞—Ç–∫—É –æ–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º!');
                return;
            }
            
            const testArray = [5, 2, 8, 1, 9];
            const results = {};
            
            // Bubble Sort
            let arr1 = [...testArray];
            let start = performance.now();
            let comparisons1 = 0;
            for (let i = 0; i < arr1.length; i++) {
                for (let j = 0; j < arr1.length - i - 1; j++) {
                    comparisons1++;
                    if (arr1[j] > arr1[j + 1]) {
                        [arr1[j], arr1[j + 1]] = [arr1[j + 1], arr1[j]];
                    }
                }
            }
            results.bubble = {
                time: performance.now() - start,
                comparisons: comparisons1
            };
            
            // Selection Sort
            let arr2 = [...testArray];
            start = performance.now();
            let comparisons2 = 0;
            for (let i = 0; i < arr2.length; i++) {
                let minIdx = i;
                for (let j = i + 1; j < arr2.length; j++) {
                    comparisons2++;
                    if (arr2[j] < arr2[minIdx]) {
                        minIdx = j;
                    }
                }
                if (minIdx !== i) {
                    [arr2[i], arr2[minIdx]] = [arr2[minIdx], arr2[i]];
                }
            }
            results.selection = {
                time: performance.now() - start,
                comparisons: comparisons2
            };
            
            // Merge Sort (—Å–ø—Ä–æ—â–µ–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó)
            results.merge = {
                time: 0.001,
                comparisons: 12
            };
            
            // –í–∏–∑–Ω–∞—á–∞—î–º–æ –ø–µ—Ä–µ–º–æ–∂—Ü—è
            const winner = Object.keys(results).reduce((a, b) => 
                results[a].comparisons < results[b].comparisons ? a : b
            );
            
            let resultHTML = '<h4>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–º–∞–≥–∞–Ω–Ω—è:</h4>';
            resultHTML += `<p>Bubble Sort: ${results.bubble.comparisons} –ø–æ—Ä—ñ–≤–Ω—è–Ω—å</p>`;
            resultHTML += `<p>Selection Sort: ${results.selection.comparisons} –ø–æ—Ä—ñ–≤–Ω—è–Ω—å</p>`;
            resultHTML += `<p>Merge Sort: ${results.merge.comparisons} –ø–æ—Ä—ñ–≤–Ω—è–Ω—å</p>`;
            resultHTML += `<p><strong>–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å: ${winner.charAt(0).toUpperCase() + winner.slice(1)} Sort!</strong></p>`;
            
            if (prediction.value === winner) {
                resultHTML += '<p style="color: green;">‚úì –í–∏ –≤–≥–∞–¥–∞–ª–∏!</p>';
            } else {
                resultHTML += '<p style="color: red;">‚úó –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑</p>';
            }
            
            document.getElementById('race-result').innerHTML = resultHTML;
        }
        
        // –û—Å–Ω–æ–≤–Ω–∏–π —Ç–µ—Å—Ç
        function gradeQuiz() {
            const answers = {
                q1: 'b', // Bubble Sort –º–∞—î O(n¬≤)
                q2: 'b', // Merge Sort —î —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º
                q3: 'a', // 2 –ø—ñ–¥–º–∞—Å–∏–≤–∏ –Ω–∞ –ø–µ—Ä—à–æ–º—É –∫—Ä–æ—Ü—ñ
                q4: 'a', // Insertion Sort –¥–ª—è –º–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö
                q5: 'a'  // Radix Sort –Ω–µ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ
            };
            
            let score = 0;
            let results = '<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É:</h3>';
            
            Object.keys(answers).forEach((q, idx) => {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                if (selected && selected.value === answers[q]) {
                    score++;
                    results += `<p style="color: green;">‚úì –ü–∏—Ç–∞–Ω–Ω—è ${idx + 1}: –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</p>`;
                } else {
                    results += `<p style="color: red;">‚úó –ü–∏—Ç–∞–Ω–Ω—è ${idx + 1}: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.</p>`;
                }
            });
            
            results += `<h4>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/5</h4>`;
            
            if (score === 5) {
                results += '<p style="color: green;"><strong>üéâ –í—ñ–¥–º—ñ–Ω–Ω–æ! –í–∏ —á—É–¥–æ–≤–æ –∑–Ω–∞—î—Ç–µ –º–∞—Ç–µ—Ä—ñ–∞–ª!</strong></p>';
                document.getElementById('exam-link-container').classList.remove('hidden');
            } else if (score >= 4) {
                results += '<p style="color: orange;"><strong>–î–æ–±—Ä–µ! –ê–ª–µ —î —â–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏.</strong></p>';
            } else {
                results += '<p style="color: red;"><strong>–†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª.</strong></p>';
            }
            
            document.getElementById('quiz-result').innerHTML = results;
        }

        // Mystery Sort
        let mysteryAlgorithm = '';
        
        async function startMysterySort() {
            const algorithms = ['bubble', 'selection'];
            mysteryAlgorithm = algorithms[Math.floor(Math.random() * algorithms.length)];
            
            const container = document.getElementById('mystery-array');
            container.innerHTML = '';
            
            const values = [5, 2, 8, 1, 4];
            const bars = values.map(value => {
                const bar = document.createElement('div');
                bar.textContent = value;
                bar.style.width = '40px';
                bar.style.height = `${value * 20}px`;
                bar.style.backgroundColor = '#9b59b6';
                bar.style.display = 'inline-block';
                bar.style.color = 'white';
                bar.style.textAlign = 'center';
                bar.style.verticalAlign = 'bottom';
                bar.style.margin = '0 2px';
                container.appendChild(bar);
                return bar;
            });
            
            // –ê–Ω—ñ–º–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –æ–±—Ä–∞–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
            if (mysteryAlgorithm === 'bubble') {
                await animateBubbleSort(values, bars);
            } else {
                await animateSelectionSort(values, bars);
            }
            
            document.getElementById('mystery-result').innerHTML = 
                '<p>–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—é —Ç–∞ —Å–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º</p>';
        }
        
        async function animateBubbleSort(values, bars) {
            const n = values.length;
            for (let i = 0; i < n; i++) {
                for (let j = 0; j < n - i - 1; j++) {
                    bars[j].style.backgroundColor = '#e74c3c';
                    bars[j + 1].style.backgroundColor = '#e74c3c';
                    await sleep(800);
                    
                    if (values[j] > values[j + 1]) {
                        [values[j], values[j + 1]] = [values[j + 1], values[j]];
                        bars[j].textContent = values[j];
                        bars[j + 1].textContent = values[j + 1];
                        bars[j].style.height = `${values[j] * 20}px`;
                        bars[j + 1].style.height = `${values[j + 1] * 20}px`;
                    }
                    
                    bars[j].style.backgroundColor = '#9b59b6';
                    bars[j + 1].style.backgroundColor = '#9b59b6';
                }
                bars[n - i - 1].style.backgroundColor = '#27ae60';
            }
        }
        
        async function animateSelectionSort(values, bars) {
            const n = values.length;
            for (let i = 0; i < n; i++) {
                let minIdx = i;
                bars[i].style.backgroundColor = '#f39c12';
                
                for (let j = i + 1; j < n; j++) {
                    bars[j].style.backgroundColor = '#e74c3c';
                    await sleep(600);
                    
                    if (values[j] < values[minIdx]) {
                        if (minIdx !== i) bars[minIdx].style.backgroundColor = '#9b59b6';
                        minIdx = j;
                        bars[minIdx].style.backgroundColor = '#f39c12';
                    } else {
                        bars[j].style.backgroundColor = '#9b59b6';
                    }
                }
                
                if (minIdx !== i) {
                    [values[i], values[minIdx]] = [values[minIdx], values[i]];
                    bars[i].textContent = values[i];
                    bars[minIdx].textContent = values[minIdx];
                    bars[i].style.height = `${values[i] * 20}px`;
                    bars[minIdx].style.height = `${values[minIdx] * 20}px`;
                }
                
                bars[i].style.backgroundColor = '#27ae60';
                if (minIdx !== i) bars[minIdx].style.backgroundColor = '#9b59b6';
            }
        }
        
        function checkMysteryAnswer() {
            const selected = document.querySelector('input[name="mystery"]:checked');
            if (!selected) {
                alert('–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º!');
                return;
            }
            
            if (selected.value === mysteryAlgorithm) {
                document.getElementById('mystery-result').innerHTML = 
                    '<p style="color: green;">‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ –¥—ñ–π—Å–Ω–æ ' + mysteryAlgorithm + ' sort!</p>';
            } else {
                document.getElementById('mystery-result').innerHTML = 
                    '<p style="color: red;">‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∞–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∞–Ω—ñ–º–∞—Ü—ñ—é –∑–Ω–æ–≤—É.</p>';
            }
        }
        
        // Drag & Drop —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
        let draggedElement = null;
        
        function initializeDragAndDrop() {
            const draggables = document.querySelectorAll('.draggable-step');
            const dropzones = document.querySelectorAll('.dropzone');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function(e) {
                    draggedElement = this;
                    this.style.opacity = '0.5';
                });
                
                draggable.addEventListener('dragend', function(e) {
                    this.style.opacity = '';
                    draggedElement = null;
                });
            });
            
            dropzones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });
                
                zone.addEventListener('dragleave', function(e) {
                    this.classList.remove('dragover');
                });
                
                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    if (draggedElement) {
                        this.appendChild(draggedElement);
                    }
                });
            });
        }
        
        function checkStepsOrder() {
            const orderedSteps = document.getElementById('ordered-steps');
            const steps = Array.from(orderedSteps.querySelectorAll('.draggable-step'));
            const correctOrder = ['1', '2', '3', '4'];
            
            let isCorrect = true;
            steps.forEach((step, idx) => {
                if (step.getAttribute('data-step') !== correctOrder[idx]) {
                    isCorrect = false;
                }
            });
            
            const result = document.getElementById('steps-result');
            if (steps.length !== 4) {
                result.innerHTML = '<p style="color: orange;">‚ö†Ô∏è –ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –≤—Å—ñ –∫—Ä–æ–∫–∏ —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É</p>';
            } else if (isCorrect) {
                result.innerHTML = '<p style="color: green;">‚úì –í—ñ–¥–º—ñ–Ω–Ω–æ! –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π!</p>';
            } else {
                result.innerHTML = '<p style="color: red;">‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.</p>';
            }
        }
        
        // True/False —à–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç
        const tfAnswers = {1: false, 2: true, 3: false, 4: false, 5: true};
        let tfScore = 0;
        let tfAnswered = new Set();
        
        function answerTrueFalse(question, answer) {
            if (tfAnswered.has(question)) return;
            
            const correct = tfAnswers[question] === answer;
            const resultSpan = document.getElementById(`tf-result-${question}`);
            
            if (correct) {
                resultSpan.innerHTML = ' <span style="color: green;">‚úì</span>';
                tfScore++;
            } else {
                resultSpan.innerHTML = ' <span style="color: red;">‚úó</span>';
            }
            
            tfAnswered.add(question);
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –∑–∞–≥–∞–ª—å–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫
            if (tfAnswered.size === Object.keys(tfAnswers).length) {
                document.getElementById('tf-score').innerHTML = 
                    `<strong>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${tfScore}/${Object.keys(tfAnswers).length}</strong>`;
            }
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
        function testUserCode() {
            const code = document.getElementById('user-code').value;
            
            try {
                // –ü—Ä–æ—Å—Ç–∏–π —Ç–µ—Å—Ç
                const testArr = [3, 1, 4, 1, 5];
                const expectedResult = [1, 1, 3, 4, 5];
                
                // –í–∏–∫–æ–Ω—É—î–º–æ –∫–æ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
                eval(code);
                
                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é
                if (typeof bubble_sort === 'function') {
                    const result = bubble_sort([...testArr]);
                    
                    if (JSON.stringify(result) === JSON.stringify(expectedResult)) {
                        document.getElementById('code-result').innerHTML = 
                            '<p style="color: green;">‚úì –ß—É–¥–æ–≤–æ! –í–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</p>' +
                            '<p>–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω–æ: [3, 1, 4, 1, 5] ‚Üí [1, 1, 3, 4, 5]</p>';
                    } else {
                        document.getElementById('code-result').innerHTML = 
                            '<p style="color: red;">‚úó –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∞—Ü—é—î –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</p>' +
                            `<p>–û—á—ñ–∫—É–≤–∞–ª–æ—Å—å: [1, 1, 3, 4, 5], –æ—Ç—Ä–∏–º–∞–Ω–æ: [${result}]</p>`;
                    }
                } else {
                    document.getElementById('code-result').innerHTML = 
                        '<p style="color: red;">‚úó –§—É–Ω–∫—Ü—ñ—è bubble_sort –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞</p>';
                }
            } catch (e) {
                document.getElementById('code-result').innerHTML = 
                    '<p style="color: red;">‚úó –ü–æ–º–∏–ª–∫–∞ –≤ –∫–æ–¥—ñ: ' + e.message + '</p>';
            }
        }
        
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        document.addEventListener('DOMContentLoaded', function() {
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –º–∞—Å–∏–≤ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
            generateArray(currentArraySize);
            
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ drag & drop
            initializeDragAndDrop();
        });
    </script>
</body>
</html>