<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f4f4f4;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        
        nav {
            background: #34495e;
            padding: 0.5rem;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            display: block;
            transition: background 0.3s;
        }
        
        nav a:hover {
            background: #2c3e50;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background: white;
            min-height: calc(100vh - 200px);
        }
        
        .section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .algorithm-box {
            background: #ecf0f1;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 5px;
        }
        
        .visualization {
            background: #2c3e50;
            color: white;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
            border-radius: 5px;
        }
        
        .bar {
            display: inline-block;
            width: 40px;
            margin: 2px;
            background: #3498db;
            color: white;
            text-align: center;
            transition: all 0.3s;
        }
        
        .bar.comparing {
            background: #e74c3c;
        }
        
        .bar.sorted {
            background: #27ae60;
        }
        .bar.merging {
            background-color: blueviolet; 
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            margin: 0.5rem;
            cursor: pointer;
            border-radius: 3px;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        .quiz-container {
            background: #ecf0f1;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 5px;
        }
        
        .question {
            margin: 1rem 0;
        }
        
        .options label {
            display: block;
            margin: 0.5rem 0;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 3px;
            transition: background 0.2s;
        }
        
        .options label:hover {
            background: #ecf0f1;
        }
        
        .task-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
        }
        
        .difficulty {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
        }
        
        .easy { background: #27ae60; color: white; }
        .medium { background: #f39c12; color: white; }
        .hard { background: #e74c3c; color: white; }
        
        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 1rem;
            border-radius: 5px;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        code {
            font-family: 'Courier New', monospace;
        }
        
        .draggable-step {
            background: #3498db;
            color: white;
            padding: 0.5rem;
            margin: 0.5rem 0;
            border-radius: 3px;
            cursor: move;
            transition: all 0.3s;
        }
        
        .draggable-step:hover {
            background: #2980b9;
            transform: scale(1.02);
        }
        
        .draggable-step[draggable="true"]:active {
            cursor: grabbing;
        }
        
        #ordered-steps {
            border: 2px dashed #bdc3c7;
            min-height: 200px;
        }
        
        #trainer-array {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 1rem 0;
        }
        
        #trainer-array .bar {
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #trainer-array .bar:hover {
            transform: scale(1.1);
        }
        
        input[type="range"] {
            width: 200px;
            margin: 0 1rem;
        }
        
        textarea {
            border: 1px solid #bdc3c7;
            padding: 0.5rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        #mystery-array .bar {
            background: #9b59b6;
        }
        
        .algorithm-box h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        
        .algorithm-box h4 {
            color: #34495e;
            margin: 0.5rem 0;
        }
        
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
            }
            
            .task-card {
                margin: 0.5rem 0;
            }
            
            #steps-container {
                flex-direction: column;
            }
            
            .bar {
                width: 30px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</h1>
        <p>–ù–∞–≤—á–∞–ª—å–Ω–∏–π –∫—É—Ä—Å –¥–ª—è —É—á–Ω—ñ–≤ 10 –∫–ª–∞—Å—É</p>
    </header>
    
    <nav>
        <ul>
            <li><a href="#" onclick="showSection('home')">–ì–æ–ª–æ–≤–Ω–∞</a></li>
            <li><a href="#" onclick="showSection('theory')">–¢–µ–æ—Ä—ñ—è</a></li>
            <li><a href="#" onclick="showSection('visualization')">–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è</a></li>
            <li><a href="#" onclick="showSection('practice')">–ü—Ä–∞–∫—Ç–∏–∫–∞</a></li>
            <li><a href="#" onclick="showSection('tests')">–¢–µ—Å—Ç–∏</a></li>
            <li><a href="#" onclick="showSection('resources')">–†–µ—Å—É—Ä—Å–∏</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <!-- –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ -->
        <section id="home" class="section active">
            <h2>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!</h2>
            <p>–¶–µ–π –Ω–∞–≤—á–∞–ª—å–Ω–∏–π —Å–∞–π—Ç –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</p>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>–ë—É–ª—å–±–∞—à–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (Bubble Sort)</li>
                <li>–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä–æ–º (Selection Sort)</li>
                <li>–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–ª–∏—Ç—Ç—è–º (Merge Sort)</li>
            </ul>
            <p>–í–∏ –Ω–∞–≤—á–∏—Ç–µ—Å—è:</p>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>–†–æ–∑—É–º—ñ—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ —Ä–æ–±–æ—Ç–∏ –∫–æ–∂–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É</li>
                <li>–í—ñ–∑—É–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</li>
                <li>–†–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –º–æ–≤–æ—é Python</li>
                <li>–ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</li>
            </ul>
        </section>
        
        <!-- –¢–µ–æ—Ä—ñ—è -->
        <section id="theory" class="section">
            <h2>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª</h2>
            
            <div class="algorithm-box">
                <h3>1. –ë—É–ª—å–±–∞—à–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (Bubble Sort)</h3>
                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –º–∞—Å–∏–≤—É —ñ –ø–æ—Ä—ñ–≤–Ω—é—î —Å—É—Å—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏. –Ø–∫—â–æ –≤–æ–Ω–∏ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ñ–Ω –º—ñ–Ω—è—î —ó—Ö –º—ñ—Å—Ü—è–º–∏. –ü—Ä–æ—Ü–µ—Å –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è, –ø–æ–∫–∏ –º–∞—Å–∏–≤ –Ω–µ –±—É–¥–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π.</p>
                <p><strong>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:</strong> O(n¬≤)</p>
                <pre><code>def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(0, n-i-1):
            if arr[j] > arr[j+1]:
                arr[j], arr[j+1] = arr[j+1], arr[j]
    return arr</code></pre>
                <p style="margin-top: 15px;">
                    <a href="theory/bubble-sort.html" target="_blank" style="color: #3498db; text-decoration: none; font-weight: bold;">
                        üìñ –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ Bubble Sort ‚Üí
                    </a>
                </p>
            </div>
            
            <div class="algorithm-box">
                <h3>2. –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä–æ–º (Selection Sort)</h3>
                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —É –Ω–µ–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –º–∞—Å–∏–≤—É —ñ —Å—Ç–∞–≤–∏—Ç—å –π–æ–≥–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫.</p>
                <p><strong>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:</strong> O(n¬≤)</p>
                <pre><code>def selection_sort(arr):
    n = len(arr)
    for i in range(n):
        min_idx = i
        for j in range(i+1, n):
            if arr[j] < arr[min_idx]:
                min_idx = j
        arr[i], arr[min_idx] = arr[min_idx], arr[i]
    return arr</code></pre>
                <p style="margin-top: 15px;">
                    <a href="theory/selection-sort.html" target="_blank" style="color: #3498db; text-decoration: none; font-weight: bold;">
                        üìñ –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ Selection Sort ‚Üí
                    </a>
                </p>
            </div>
            
            <div class="algorithm-box">
                <h3>3. –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–ª–∏—Ç—Ç—è–º (Merge Sort)</h3>
                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –¥—ñ–ª–∏—Ç—å –º–∞—Å–∏–≤ –Ω–∞–≤–ø—ñ–ª, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç—É—î –æ–±–∏–¥–≤—ñ —á–∞—Å—Ç–∏–Ω–∏, –∞ –ø–æ—Ç—ñ–º –∑–ª–∏–≤–∞—î —ó—Ö —É –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –º–∞—Å–∏–≤.</p>
                <p><strong>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:</strong> O(n log n)</p>
                <pre><code>def merge_sort(arr):
    if len(arr) <= 1:
        return arr
    
    mid = len(arr) // 2
    left = merge_sort(arr[:mid])
    right = merge_sort(arr[mid:])
    
    return merge(left, right)

def merge(left, right):
    result = []
    i = j = 0
    
    while i < len(left) and j < len(right):
        if left[i] < right[j]:
            result.append(left[i])
            i += 1
        else:
            result.append(right[j])
            j += 1
    
    result.extend(left[i:])
    result.extend(right[j:])
    return result</code></pre>
                <p style="margin-top: 15px;">
                    <a href="theory/merge-sort.html" target="_blank" style="color: #3498db; text-decoration: none; font-weight: bold;">
                        üìñ –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ Merge Sort ‚Üí
                    </a>
                </p>
            </div>
        </section>
        
        <!-- –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è -->
        <section id="visualization" class="section">
            <h2>–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</h2>
            
            <div class="visualization">
                <h3>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:</h3>
                <div style="margin: 1rem 0;">
                    <label>–†–æ–∑–º—ñ—Ä –º–∞—Å–∏–≤—É: <span id="size-value">10</span></label>
                    <input type="range" id="array-size" min="5" max="20" value="10" onchange="updateArraySize()">
                    
                    <label style="margin-left: 2rem;">–®–≤–∏–¥–∫—ñ—Å—Ç—å: <span id="speed-value">500</span>–º—Å</label>
                    <input type="range" id="speed" min="100" max="1000" value="500" step="100" onchange="updateSpeed()">
                </div>
                
                <div style="margin: 1rem 0;">
                    <button onclick="generateRandomArray()">–í–∏–ø–∞–¥–∫–æ–≤–∏–π –º–∞—Å–∏–≤</button>
                    <button onclick="generateReversedArray()">–ó–≤–æ—Ä–æ—Ç–Ω—ñ–π –ø–æ—Ä—è–¥–æ–∫</button>
                    <button onclick="generateNearlySorted()">–ú–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π</button>
                </div>
                
                <h3>–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º:</h3>
                <button onclick="startVisualization('bubble')">–ë—É–ª—å–±–∞—à–∫–æ–≤–µ</button>
                <button onclick="startVisualization('selection')">–í–∏–±–æ—Ä–æ–º</button>
                <button onclick="startVisualization('merge')">–ó–ª–∏—Ç—Ç—è–º</button>
                <button onclick="pauseVisualization()" id="pause-btn">–ü–∞—É–∑–∞</button>
                <button onclick="resetVisualization()">–°–∫–∏–Ω—É—Ç–∏</button>
                
                <div id="array-container" style="margin-top: 2rem;">
                    <!-- –î–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è -->
                </div>
                
                <div style="margin-top: 1rem; display: flex; justify-content: space-around;">
                    <div>–ü–æ—Ä—ñ–≤–Ω—è–Ω—å: <span id="comparisons">0</span></div>
                    <div>–û–±–º—ñ–Ω—ñ–≤: <span id="swaps">0</span></div>
                    <div>–ß–∞—Å: <span id="time">0</span>—Å</div>
                </div>
                
                <p id="status" style="margin-top: 1rem;">–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ—á–∞—Ç–∫—É</p>
            </div>
            
            <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–¥ -->
            <div class="algorithm-box" style="margin-top: 2rem;">
                <h3>–°–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º—ñ –Ω–∞–ø–∏—Å–∞—Ç–∏ –∫–æ–¥:</h3>
                <div style="display: flex; gap: 1rem;">
                    <div style="flex: 1;">
                        <h4>–í–∞—à –∫–æ–¥:</h4>
                        <textarea id="user-code" rows="10" style="width: 100%; font-family: monospace;">
def bubble_sort(arr):
    # –ù–∞–ø–∏—à—ñ—Ç—å –≤–∞—à –∫–æ–¥ —Ç—É—Ç
    n = len(arr)
    # ...
    return arr</textarea>
                        <button onclick="testUserCode()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–¥</button>
                    </div>
                    <div style="flex: 1;">
                        <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
                        <div id="code-result" style="background: #f4f4f4; padding: 1rem; min-height: 200px;">
                            –ù–∞–ø–∏—à—ñ—Ç—å –∫–æ–¥ —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏"
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ -->
        <section id="practice" class="section">
            <h2>–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>
            
            <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä -->
            <div class="algorithm-box">
                <h3>–¢—Ä–µ–Ω–∞–∂–µ—Ä: –ü–æ–∫—Ä–æ–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</h3>
                <p>–í—ñ–¥—Å–æ—Ä—Ç—É–π—Ç–µ –º–∞—Å–∏–≤ –≤—Ä—É—á–Ω—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –æ–±—Ä–∞–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º:</p>
                
                <div style="margin: 1rem 0;">
                    <select id="trainer-algorithm">
                        <option value="bubble">–ë—É–ª—å–±–∞—à–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</option>
                        <option value="selection">–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä–æ–º</option>
                    </select>
                    <button onclick="startTrainer()">–ü–æ—á–∞—Ç–∏ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</button>
                </div>
                
                <div id="trainer-container" style="display: none;">
                    <div id="trainer-array" style="margin: 1rem 0;">
                        <!-- –î–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è -->
                    </div>
                    <p id="trainer-instruction">–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏ –¥–ª—è –æ–±–º—ñ–Ω—É</p>
                    <div>
                        <span>–ö—Ä–æ–∫—ñ–≤: <span id="trainer-steps">0</span></span>
                        <span style="margin-left: 2rem;">–ü–æ–º–∏–ª–æ–∫: <span id="trainer-errors">0</span></span>
                    </div>
                    <button onclick="checkTrainerSolution()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                    <button onclick="showHint()">–ü—ñ–¥–∫–∞–∑–∫–∞</button>
                </div>
            </div>
            
            <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
            <div class="task-card">
                <span class="difficulty easy">–õ–µ–≥–∫–∏–π</span>
                <h3>–ó–∞–≤–¥–∞–Ω–Ω—è 1: –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –ø—Ä–æ–ø—É—Å–∫–∏</h3>
                <p>–î–æ–ø–æ–≤–Ω—ñ—Ç—å –∫–æ–¥ –±—É–ª—å–±–∞—à–∫–æ–≤–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</p>
                <pre style="background: #f8f9fa; color: #333;">
def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(0, <input type="text" id="gap1" style="width: 60px;" placeholder="?">):
            if arr[j] <select id="gap2"><option value="">?</option><option value=">">&gt;</option><option value="<">&lt;</option></select> arr[j+1]:
                arr[j], arr[j+1] = <input type="text" id="gap3" style="width: 100px;" placeholder="?">
    return arr
                </pre>
                <button onclick="checkGapFilling()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                <div id="gap-result"></div>
            </div>
            
            <div class="task-card">
                <span class="difficulty medium">–°–µ—Ä–µ–¥–Ω—ñ–π</span>
                <h3>–ó–∞–≤–¥–∞–Ω–Ω—è 2: –ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ–º–∏–ª–∫—É</h3>
                <p>–£ –∫–æ–¥—ñ —î –ø–æ–º–∏–ª–∫–∞. –ó–Ω–∞–π–¥—ñ—Ç—å —Ç–∞ –≤–∏–ø—Ä–∞–≤—Ç–µ —ó—ó:</p>
                <pre contenteditable="true" id="buggy-code" style="background: #f8f9fa; color: #333; padding: 1rem;">
def selection_sort(arr):
    n = len(arr)
    for i in range(n):
        min_idx = i
        for j in range(i, n):  # –ü–æ–º–∏–ª–∫–∞ —Ç—É—Ç!
            if arr[j] < arr[min_idx]:
                min_idx = j
        arr[i], arr[min_idx] = arr[min_idx], arr[i]
    return arr
                </pre>
                <button onclick="checkBugFix()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è</button>
                <div id="bug-result"></div>
            </div>
            
            <div class="task-card">
                <span class="difficulty hard">–°–∫–ª–∞–¥–Ω–∏–π</span>
                <h3>–ó–∞–≤–¥–∞–Ω–Ω—è 3: –ó–º–∞–≥–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</h3>
                <p>–ü–µ—Ä–µ–¥–±–∞—á—Ç–µ, —è–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —à–≤–∏–¥—à–µ –≤—ñ–¥—Å–æ—Ä—Ç—É—î –º–∞—Å–∏–≤:</p>
                <div id="algorithm-race">
                    <p>–ú–∞—Å–∏–≤: <span id="race-array">[5, 2, 8, 1, 9]</span></p>
                    <div style="margin: 1rem 0;">
                        <label><input type="radio" name="prediction" value="bubble"> Bubble Sort</label>
                        <label><input type="radio" name="prediction" value="selection"> Selection Sort</label>
                        <label><input type="radio" name="prediction" value="merge"> Merge Sort</label>
                    </div>
                    <button onclick="startRace()">–ü–æ—á–∞—Ç–∏ –∑–º–∞–≥–∞–Ω–Ω—è</button>
                    <div id="race-result" style="margin-top: 1rem;"></div>
                </div>
            </div>
            
            <div class="task-card">
                <span class="difficulty medium">–°–µ—Ä–µ–¥–Ω—ñ–π</span>
                <h3>–ü—Ä–æ–µ–∫—Ç: –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤—ñ–π –∞–ª–≥–æ—Ä–∏—Ç–º</h3>
                <p>–°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è!</p>
                <textarea id="custom-algorithm" rows="10" style="width: 100%; font-family: monospace;">
def my_sort(arr):
    # –í–∞—à —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º
    # –ü—ñ–¥–∫–∞–∑–∫–∞: –º–æ–∂–µ—Ç–µ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —ñ–¥–µ—ó —Ä—ñ–∑–Ω–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤
    
    return arr
                </textarea>
                <button onclick="testCustomAlgorithm()">–¢–µ—Å—Ç—É–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º</button>
                <div id="custom-result"></div>
            </div>
        </section>
        
        <!-- –¢–µ—Å—Ç–∏ -->
        <section id="tests" class="section">
          <h2>–¢–µ—Å—Ç–∏ –¥–ª—è —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏</h2>
        
          <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ç–µ—Å—Ç -->
          <div class="quiz-container">
            <h3>–¢–µ—Å—Ç 1: –û—Å–Ω–æ–≤–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</h3>
            <div id="quiz-questions">
              <div class="question-block">
                <p>1. –Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–∞—î –Ω–∞–π–≥—ñ—Ä—à—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å O(n¬≤)?</p>
                <label><input type="radio" name="q1" value="a"> Merge Sort</label><br>
                <label><input type="radio" name="q1" value="b"> Bubble Sort</label><br>
                <label><input type="radio" name="q1" value="c"> Quick Sort</label>
              </div>
              <div class="question-block">
                <p>2. –Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —î —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º?</p>
                <label><input type="radio" name="q2" value="a"> Selection Sort</label><br>
                <label><input type="radio" name="q2" value="b"> Merge Sort</label><br>
                <label><input type="radio" name="q2" value="c"> Heap Sort</label>
              </div>
              <div class="question-block">
                <p>3. –°–∫—ñ–ª—å–∫–∏ –ø—ñ–¥–º–∞—Å–∏–≤—ñ–≤ —Å—Ç–≤–æ—Ä—é—î merge sort –Ω–∞ –ø–µ—Ä—à–æ–º—É –∫—Ä–æ—Ü—ñ –¥–ª—è 8 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤?</p>
                <label><input type="radio" name="q3" value="a"> 2</label><br>
                <label><input type="radio" name="q3" value="b"> 4</label><br>
                <label><input type="radio" name="q3" value="c"> 8</label>
              </div>
              <div class="question-block">
                <p>4. –Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –∫—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –º–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –º–∞—Å–∏–≤—ñ–≤?</p>
                <label><input type="radio" name="q4" value="a"> Insertion Sort</label><br>
                <label><input type="radio" name="q4" value="b"> Bubble Sort</label><br>
                <label><input type="radio" name="q4" value="c"> Merge Sort</label>
              </div>
              <div class="question-block">
                <p>5. –Ø–∫–∏–π –∑ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –Ω–µ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ?</p>
                <label><input type="radio" name="q5" value="a"> Radix Sort</label><br>
                <label><input type="radio" name="q5" value="b"> Selection Sort</label><br>
                <label><input type="radio" name="q5" value="c"> Quick Sort</label>
              </div>
            </div>
            <button onclick="gradeQuiz()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</button>
            <div id="quiz-result" style="margin-top: 1rem;"></div>
          </div>
        
          <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –≤–ø—Ä–∞–≤–∏ -->
          <div class="algorithm-box" style="margin-top: 2rem;">
            <h3>–í–ø—Ä–∞–≤–∞: –í–∏–∑–Ω–∞—á—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º</h3>
            <p>–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—é —Ç–∞ –≤–∏–∑–Ω–∞—á—Ç–µ, —è–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:</p>
            <div id="mystery-sort" style="background: #2c3e50; padding: 1rem; margin: 1rem 0;">
              <div id="mystery-array" style="text-align: center; display: flex; justify-content: center; gap: 4px;"></div>
            </div>
            <div>
              <label><input type="radio" name="mystery" value="bubble"> Bubble Sort</label>
              <label><input type="radio" name="mystery" value="selection"> Selection Sort</label>
              <label><input type="radio" name="mystery" value="insertion"> Insertion Sort</label>
            </div>
            <button onclick="startMysterySort()">–ü–æ–∫–∞–∑–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—é</button>
            <button onclick="checkMysteryAnswer()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
            <div id="mystery-result"></div>
          </div>
        
          <!-- Drag & Drop –≤–ø—Ä–∞–≤–∞ -->
          <div class="algorithm-box">
            <h3>–í–ø—Ä–∞–≤–∞: –†–æ–∑—Å—Ç–∞–≤—Ç–µ –∫—Ä–æ–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—É</h3>
            <p>–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –∫—Ä–æ–∫–∏ —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É –¥–ª—è bubble sort:</p>
            <div id="steps-container" style="display: flex; gap: 2rem; margin: 1rem 0;">
              <div style="flex: 1;">
                <h4>–ö—Ä–æ–∫–∏ (–ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å ‚Üí)</h4>
                <div id="available-steps" class="dropzone" style="min-height: 200px; background: #f4f4f4; padding: 1rem;"></div>
              </div>
              <div style="flex: 1;">
                <h4>–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫</h4>
                <div id="ordered-steps" class="dropzone" style="min-height: 200px; background: #ecf0f1; padding: 1rem;"></div>
              </div>
            </div>
            <button onclick="checkStepsOrder()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫</button>
            <div id="steps-result"></div>
          </div>
        
          <!-- –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç -->
          <div class="algorithm-box">
            <h3>–®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç: True/False</h3>
            <div id="true-false-container">
              <div class="question" style="margin: 1rem 0;">
                <p>1. Bubble sort –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ–Ω—É—î O(n¬≤) –æ–ø–µ—Ä–∞—Ü—ñ–π</p>
                <button onclick="answerTrueFalse(1, true)">True</button>
                <button onclick="answerTrueFalse(1, false)">False</button>
                <span id="tf-result-1"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>2. Merge sort –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–∏–Ω—Ü–∏–ø "—Ä–æ–∑–¥—ñ–ª—è–π —ñ –≤–æ–ª–æ–¥–∞—Ä—é–π"</p>
                <button onclick="answerTrueFalse(2, true)">True</button>
                <button onclick="answerTrueFalse(2, false)">False</button>
                <span id="tf-result-2"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>3. Selection sort —î —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º</p>
                <button onclick="answerTrueFalse(3, true)">True</button>
                <button onclick="answerTrueFalse(3, false)">False</button>
                <span id="tf-result-3"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>4. Quick sort –∑–∞–≤–∂–¥–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π</p>
                <button onclick="answerTrueFalse(4, true)">True</button>
                <button onclick="answerTrueFalse(4, false)">False</button>
                <span id="tf-result-4"></span>
              </div>
              <div class="question" style="margin: 1rem 0;">
                <p>5. Merge sort –≥–∞—Ä–∞–Ω—Ç—É—î O(n log n) —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É</p>
                <button onclick="answerTrueFalse(5, true)">True</button>
                <button onclick="answerTrueFalse(5, false)">False</button>
                <span id="tf-result-5"></span>
              </div>
            </div>
            <div id="tf-score" style="margin-top: 1rem;"></div>
          </div>
        </section>
        
        <!-- –†–µ—Å—É—Ä—Å–∏ -->
        <section id="resources" class="section">
            <h2>–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏</h2>
            
            <h3>üìö –ù–∞–≤—á–∞–ª—å–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ —Ü—å–æ–≥–æ –∫—É—Ä—Å—É:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li><a href="theory/bubble-sort.html" target="_blank">–î–µ—Ç–∞–ª—å–Ω–∞ —Ç–µ–æ—Ä—ñ—è: –ë—É–ª—å–±–∞—à–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</a></li>
                <li><a href="theory/selection-sort.html" target="_blank">–î–µ—Ç–∞–ª—å–Ω–∞ —Ç–µ–æ—Ä—ñ—è: –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä–æ–º</a></li>
                <li><a href="theory/merge-sort.html" target="_blank">–î–µ—Ç–∞–ª—å–Ω–∞ —Ç–µ–æ—Ä—ñ—è: –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–ª–∏—Ç—Ç—è–º</a></li>
                <li><a href="theory/complexity.html" target="_blank">–ê–Ω–∞–ª—ñ–∑ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</a></li>
            </ul>
            
            <h3>üåê –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li><a href="https://visualgo.net/en/sorting" target="_blank">VisuAlgo - –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</a></li>
                <li><a href="https://www.toptal.com/developers/sorting-algorithms" target="_blank">–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</a></li>
                <li><a href="https://www.geeksforgeeks.org/sorting-algorithms/" target="_blank">GeeksforGeeks - –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</a></li>
            </ul>
            
            <h3>üìñ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>"–ê–ª–≥–æ—Ä–∏—Ç–º–∏: –ø–æ–±—É–¥–æ–≤–∞ —Ç–∞ –∞–Ω–∞–ª—ñ–∑" - –¢–æ–º–∞—Å –ö–æ—Ä–º–µ–Ω</li>
                <li>"–°—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –≤ Python" - –ú–∞–π–∫–ª –ì—É–¥—Ä—ñ—á</li>
            </ul>
            
            <h3>üé• –í—ñ–¥–µ–æ-—É—Ä–æ–∫–∏:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>CS50 - –õ–µ–∫—Ü—ñ—è –ø—Ä–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</li>
                <li>Computerphile - –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</li>
            </ul>
            
            <h3>üíª –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ–¥:</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li><a href="scripts/sorting_algorithms.py" download>Python —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤—Å—ñ—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤</a></li>
                <li><a href="scripts/visualization.js" download>JavaScript –∫–æ–¥ –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó</a></li>
            </ul>
        </section>
    </div>
    
    <script>
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
        }
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        let sortingInProgress = false;
        let isPaused = false;
        let currentSpeed = 500;
        let currentArraySize = 10;
        let comparisons = 0;
        let swaps = 0;
        let startTime = 0;
        
        // –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        function generateArray(size) {
            const container = document.getElementById('array-container');
            container.innerHTML = '';
            const values = [];
            
            for (let i = 0; i < size; i++) {
                const value = Math.floor(Math.random() * 10) + 1;
                values.push(value);
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = value * 10 + 'px';
                bar.textContent = value;
                container.appendChild(bar);
            }
            
            return values;
        }
        
        function updateArraySize() {
            currentArraySize = document.getElementById('array-size').value;
            document.getElementById('size-value').textContent = currentArraySize;
            if (!sortingInProgress) {
                generateArray(currentArraySize);
            }
        }
        
        function updateSpeed() {
            currentSpeed = document.getElementById('speed').value;
            document.getElementById('speed-value').textContent = currentSpeed;
        }
        
        function generateRandomArray() {
            if (!sortingInProgress) {
                generateArray(currentArraySize);
                resetStats();
            }
        }
        
        function generateReversedArray() {
            if (!sortingInProgress) {
                const container = document.getElementById('array-container');
                container.innerHTML = '';
                for (let i = currentArraySize; i > 0; i--) {
                    const bar = document.createElement('div');
                    bar.className = 'bar';
                    bar.style.height = i * 10 + 'px';
                    bar.textContent = i;
                    container.appendChild(bar);
                }
                resetStats();
            }
        }
        
        function generateNearlySorted() {
            if (!sortingInProgress) {
                const container = document.getElementById('array-container');
                container.innerHTML = '';
                const values = [];
                for (let i = 1; i <= currentArraySize; i++) {
                    values.push(i);
                }
                // –†–æ–±–∏–º–æ –∫—ñ–ª—å–∫–∞ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –æ–±–º—ñ–Ω—ñ–≤
                for (let i = 0; i < 2; i++) {
                    const idx1 = Math.floor(Math.random() * currentArraySize);
                    const idx2 = Math.floor(Math.random() * currentArraySize);
                    [values[idx1], values[idx2]] = [values[idx2], values[idx1]];
                }
                
                values.forEach(value => {
                    const bar = document.createElement('div');
                    bar.className = 'bar';
                    bar.style.height = value * 10 + 'px';
                    bar.textContent = value;
                    container.appendChild(bar);
                });
                resetStats();
            }
        }
        
        function resetStats() {
            comparisons = 0;
            swaps = 0;
            document.getElementById('comparisons').textContent = '0';
            document.getElementById('swaps').textContent = '0';
            document.getElementById('time').textContent = '0';
        }
        
        function updateStats() {
            document.getElementById('comparisons').textContent = comparisons;
            document.getElementById('swaps').textContent = swaps;
            const elapsed = ((Date.now() - startTime) / 1000).toFixed(1);
            document.getElementById('time').textContent = elapsed;
        }
        
        function getArrayValues() {
            const bars = document.querySelectorAll('.bar');
            return Array.from(bars).map(bar => parseInt(bar.textContent));
        }
        
        function updateBars(values) {
            const bars = document.querySelectorAll('.bar');
            bars.forEach((bar, index) => {
                bar.style.height = values[index] * 10 + 'px';
                bar.textContent = values[index];
            });
        }
        
        async function bubbleSortVisualization() {
            const values = getArrayValues();
            const bars = document.querySelectorAll('.bar');
            const n = values.length;
            
            for (let i = 0; i < n && sortingInProgress; i++) {
                for (let j = 0; j < n - i - 1 && sortingInProgress; j++) {
                    while (isPaused && sortingInProgress) {
                        await sleep(100);
                    }
                    
                    bars[j].classList.add('comparing');
                    bars[j + 1].classList.add('comparing');
                    comparisons++;
                    updateStats();
                    
                    await sleep(currentSpeed);
                    
                    if (values[j] > values[j + 1]) {
                        [values[j], values[j + 1]] = [values[j + 1], values[j]];
                        updateBars(values);
                        swaps++;
                        updateStats();
                    }
                    
                    bars[j].classList.remove('comparing');
                    bars[j + 1].classList.remove('comparing');
                }
                bars[n - i - 1].classList.add('sorted');
            }
            
            if (sortingInProgress) {
                document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!';
                sortingInProgress = false;
            }
        }
        
        async function selectionSortVisualization() {
            const values = getArrayValues();
            const bars = document.querySelectorAll('.bar');
            const n = values.length;
            
            for (let i = 0; i < n && sortingInProgress; i++) {
                let minIdx = i;
                bars[i].classList.add('comparing');
                
                for (let j = i + 1; j < n && sortingInProgress; j++) {
                    while (isPaused && sortingInProgress) {
                        await sleep(100);
                    }
                    
                    bars[j].classList.add('comparing');
                    comparisons++;
                    updateStats();
                    await sleep(currentSpeed);
                    
                    if (values[j] < values[minIdx]) {
                        if (minIdx !== i) bars[minIdx].classList.remove('comparing');
                        minIdx = j;
                    } else {
                        bars[j].classList.remove('comparing');
                    }
                }
                
                if (minIdx !== i) {
                    [values[i], values[minIdx]] = [values[minIdx], values[i]];
                    updateBars(values);
                    swaps++;
                    updateStats();
                }
                
                bars.forEach(bar => bar.classList.remove('comparing'));
                bars[i].classList.add('sorted');
                await sleep(currentSpeed);
            }
            
            if (sortingInProgress) {
                document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!';
                sortingInProgress = false;
            }
        }
        async function mergeSortVisualization() {
            const values = getArrayValues();
            const bars = document.querySelectorAll('.bar');
        
            function setMergingColor(start, end) {
                for (let i = start; i <= end; i++) {
                    bars[i].classList.add('merging');
                }
            }
        
            function clearMergingColor(start, end) {
                for (let i = start; i <= end; i++) {
                    bars[i].classList.remove('merging');
                }
            }
        
            async function merge(start, mid, end) {
                const left = values.slice(start, mid + 1);
                const right = values.slice(mid + 1, end + 1);
        
                let i = 0, j = 0, k = start;
        
                setMergingColor(start, end);
        
                while (i < left.length && j < right.length && sortingInProgress) {
                    while (isPaused && sortingInProgress) await sleep(100);
        
                    bars[k].classList.add('comparing');
                    comparisons++;
                    updateStats();
                    await sleep(currentSpeed);
        
                    if (left[i] <= right[j]) {
                        values[k] = left[i++];
                    } else {
                        values[k] = right[j++];
                        swaps++;
                    }
        
                    updateBars(values);
                    updateStats();
                    bars[k].classList.remove('comparing');
                    k++;
                }
        
                while (i < left.length && sortingInProgress) {
                    while (isPaused && sortingInProgress) await sleep(100);
                    values[k++] = left[i++];
                    updateBars(values);
                    swaps++;
                    updateStats();
                    await sleep(currentSpeed);
                }
        
                while (j < right.length && sortingInProgress) {
                    while (isPaused && sortingInProgress) await sleep(100);
                    values[k++] = right[j++];
                    updateBars(values);
                    swaps++;
                    updateStats();
                    await sleep(currentSpeed);
                }
        
                clearMergingColor(start, end);
            }
        
            async function mergeSort(start, end) {
                if (start >= end || !sortingInProgress) return;
                const mid = Math.floor((start + end) / 2);
                await mergeSort(start, mid);
                await mergeSort(mid + 1, end);
                await merge(start, mid, end);
            }
        
            await mergeSort(0, values.length - 1);
        
            // –ü—ñ—Å–ª—è –ø–æ–≤–Ω–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è ‚Äî –ø–æ–∑–Ω–∞—á–∞—î–º–æ –∑–µ–ª–µ–Ω–∏–º (sorted)
            for (let i = 0; i < values.length; i++) {
                bars[i].classList.add('sorted');
                await sleep(10); // –ø–ª–∞–≤–Ω–µ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è
            }
        
            if (sortingInProgress) {
                document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!';
                sortingInProgress = false;
            }
        }


        function startVisualization(algorithm) {
            if (sortingInProgress) return;
            
            resetVisualization();
            sortingInProgress = true;
            isPaused = false;
            startTime = Date.now();
            document.getElementById('status').textContent = '–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è...';
            document.getElementById('pause-btn').textContent = '–ü–∞—É–∑–∞';
            
            switch(algorithm) {
                case 'bubble':
                    bubbleSortVisualization();
                    break;
                case 'selection':
                    selectionSortVisualization();
                    break;
                case 'merge':
                    mergeSortVisualization();
                    break;
            }
        }
        
        function pauseVisualization() {
            if (sortingInProgress) {
                isPaused = !isPaused;
                document.getElementById('pause-btn').textContent = isPaused ? '–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏' : '–ü–∞—É–∑–∞';
            }
        }
        
        function resetVisualization() {
            sortingInProgress = false;
            isPaused = false;
            const bars = document.querySelectorAll('.bar');
            bars.forEach(bar => {
                bar.classList.remove('comparing', 'sorted');
            });
            document.getElementById('status').textContent = '–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ—á–∞—Ç–∫—É';
            resetStats();
        }
        
        // –¢—Ä–µ–Ω–∞–∂–µ—Ä
        let trainerArray = [];
        let trainerSteps = 0;
        let trainerErrors = 0;
        let selectedElements = [];
        
        function startTrainer() {
            const algorithm = document.getElementById('trainer-algorithm').value;
            document.getElementById('trainer-container').style.display = 'block';
            
            // –ì–µ–Ω–µ—Ä—É—î–º–æ –º–∞—Å–∏–≤
            trainerArray = [];
            for (let i = 0; i < 6; i++) {
                trainerArray.push(Math.floor(Math.random() * 10) + 1);
            }
            
            // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –º–∞—Å–∏–≤
            const container = document.getElementById('trainer-array');
            container.innerHTML = '';
            trainerArray.forEach((val, idx) => {
                const elem = document.createElement('div');
                elem.className = 'bar';
                elem.style.height = val * 15 + 'px';
                elem.style.cursor = 'pointer';
                elem.textContent = val;
                elem.setAttribute('data-index', idx);
                elem.onclick = () => selectElement(idx);
                container.appendChild(elem);
            });
            
            trainerSteps = 0;
            trainerErrors = 0;
            selectedElements = [];
            updateTrainerStats();
        }
        
        function selectElement(index) {
            const bars = document.querySelectorAll('#trainer-array .bar');
            
            if (selectedElements.includes(index)) {
                bars[index].classList.remove('comparing');
                selectedElements = selectedElements.filter(i => i !== index);
            } else if (selectedElements.length < 2) {
                bars[index].classList.add('comparing');
                selectedElements.push(index);
                
                if (selectedElements.length === 2) {
                    setTimeout(() => swapElements(), 500);
                }
            }
        }
        
        function swapElements() {
            const [idx1, idx2] = selectedElements;
            const bars = document.querySelectorAll('#trainer-array .bar');
            
            // –ú—ñ–Ω—è—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è
            [trainerArray[idx1], trainerArray[idx2]] = [trainerArray[idx2], trainerArray[idx1]];
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
            bars[idx1].style.height = trainerArray[idx1] * 15 + 'px';
            bars[idx1].textContent = trainerArray[idx1];
            bars[idx2].style.height = trainerArray[idx2] * 15 + 'px';
            bars[idx2].textContent = trainerArray[idx2];
            
            // –û—á–∏—â–∞—î–º–æ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è
            bars[idx1].classList.remove('comparing');
            bars[idx2].classList.remove('comparing');
            selectedElements = [];
            
            trainerSteps++;
            updateTrainerStats();
        }
        
        function updateTrainerStats() {
            document.getElementById('trainer-steps').textContent = trainerSteps;
            document.getElementById('trainer-errors').textContent = trainerErrors;
        }
        
        function checkTrainerSolution() {
            const sorted = [...trainerArray].every((val, idx, arr) => 
                idx === 0 || arr[idx - 1] <= val
            );
            
            if (sorted) {
                alert(`–ß—É–¥–æ–≤–æ! –ú–∞—Å–∏–≤ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ –∑–∞ ${trainerSteps} –∫—Ä–æ–∫—ñ–≤!`);
            } else {
                alert('–ú–∞—Å–∏–≤ —â–µ –Ω–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π. –ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ!');
                trainerErrors++;
                updateTrainerStats();
            }
        }
        
        function showHint() {
            const algorithm = document.getElementById('trainer-algorithm').value;
            let hint = '';
            
            if (algorithm === 'bubble') {
                hint = '–ü–æ—Ä—ñ–≤–Ω—é–π—Ç–µ —Å—É—Å—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Ç–∞ –º—ñ–Ω—è–π—Ç–µ —ó—Ö –º—ñ—Å—Ü—è–º–∏, —è–∫—â–æ –≤–æ–Ω–∏ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É';
            } else {
                hint = '–ó–Ω–∞–π–¥—ñ—Ç—å –Ω–∞–π–º–µ–Ω—à–∏–π –µ–ª–µ–º–µ–Ω—Ç —É –Ω–µ–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ —Ç–∞ –ø–æ–º—ñ—Å—Ç—ñ—Ç—å –π–æ–≥–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫';
            }
            
            document.getElementById('trainer-instruction').textContent = hint;
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É –∑ –ø—Ä–æ–ø—É—Å–∫–∞–º–∏
        function checkGapFilling() {
            const gap1 = document.getElementById('gap1').value.trim();
            const gap2 = document.getElementById('gap2').value;
            const gap3 = document.getElementById('gap3').value.trim();
            
            const correct1 = gap1 === 'n-i-1' || gap1 === 'n - i - 1';
            const correct2 = gap2 === '>';
            const correct3 = gap3 === 'arr[j+1], arr[j]' || gap3 === 'arr[j + 1], arr[j]';
            
            let result = '';
            if (correct1 && correct2 && correct3) {
                result = '<p style="color: green;">‚úì –í—ñ–¥–º—ñ–Ω–Ω–æ! –í—Å—ñ –ø—Ä–æ–ø—É—Å–∫–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</p>';
            } else {
                result = '<p style="color: red;">‚úó –Ñ –ø–æ–º–∏–ª–∫–∏. –ü—ñ–¥–∫–∞–∑–∫–∏:<br>';
                if (!correct1) result += '- –ü–µ—Ä—à–∏–π –ø—Ä–æ–ø—É—Å–∫: –ø–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ –º–µ–∂—ñ —Ü–∏–∫–ª—É<br>';
                if (!correct2) result += '- –î—Ä—É–≥–∏–π –ø—Ä–æ–ø—É—Å–∫: —è–∫–∏–π –∑–Ω–∞–∫ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–ª—è –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è?<br>';
                if (!correct3) result += '- –¢—Ä–µ—Ç—ñ–π –ø—Ä–æ–ø—É—Å–∫: —è–∫ –ø–æ–º—ñ–Ω—è—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –º—ñ—Å—Ü—è–º–∏?<br>';
                result += '</p>';
            }
            
            document.getElementById('gap-result').innerHTML = result;
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏
        function checkBugFix() {
            const code = document.getElementById('buggy-code').textContent;
            const hasCorrectRange = code.includes('range(i+1, n)') || code.includes('range(i + 1, n)');
            
            if (hasCorrectRange) {
                document.getElementById('bug-result').innerHTML = 
                    '<p style="color: green;">‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Ü–∏–∫–ª –ø–æ–≤–∏–Ω–µ–Ω –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ i+1, –∞ –Ω–µ –∑ i</p>';
            } else {
                document.getElementById('bug-result').innerHTML = 
                    '<p style="color: red;">‚úó –ü–æ–º–∏–ª–∫–∞ –≤—Å–µ —â–µ —î. –ü–æ–¥—É–º–∞–π—Ç–µ: —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç —Å–∞–º –∑ —Å–æ–±–æ—é?</p>';
            }
        }
        
        // –ó–º–∞–≥–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤
        async function startRace() {
            const prediction = document.querySelector('input[name="prediction"]:checked');
            if (!prediction) {
                alert('–°–ø–æ—á–∞—Ç–∫—É –æ–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º!');
                return;
            }
            
            const testArray = [5, 2, 8, 1, 9];
            const results = {};
            
            // Bubble Sort
            let arr1 = [...testArray];
            let start = performance.now();
            let comparisons1 = 0;
            for (let i = 0; i < arr1.length; i++) {
                for (let j = 0; j < arr1.length - i - 1; j++) {
                    comparisons1++;
                    if (arr1[j] > arr1[j + 1]) {
                        [arr1[j], arr1[j + 1]] = [arr1[j + 1], arr1[j]];
                    }
                }
            }
            results.bubble = {
                time: performance.now() - start,
                comparisons: comparisons1
            };
            
            // Selection Sort
            let arr2 = [...testArray];
            start = performance.now();
            let comparisons2 = 0;
            for (let i = 0; i < arr2.length; i++) {
                let minIdx = i;
                for (let j = i + 1; j < arr2.length; j++) {
                    comparisons2++;
                    if (arr2[j] < arr2[minIdx]) {
                        minIdx = j;
                    }
                }
                if (minIdx !== i) {
                    [arr2[i], arr2[minIdx]] = [arr2[minIdx], arr2[i]];
                }
            }
            results.selection = {
                time: performance.now() - start,
                comparisons: comparisons2
            };
            
            // Merge Sort (—Å–ø—Ä–æ—â–µ–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó)
            results.merge = {
                time: 0.001,
                comparisons: 12
            };
            
            // –í–∏–∑–Ω–∞—á–∞—î–º–æ –ø–µ—Ä–µ–º–æ–∂—Ü—è
            const winner = Object.keys(results).reduce((a, b) => 
                results[a].comparisons < results[b].comparisons ? a : b
            );
            
            let resultHTML = '<h4>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–º–∞–≥–∞–Ω–Ω—è:</h4>';
            resultHTML += `<p>Bubble Sort: ${results.bubble.comparisons} –ø–æ—Ä—ñ–≤–Ω—è–Ω—å</p>`;
            resultHTML += `<p>Selection Sort: ${results.selection.comparisons} –ø–æ—Ä—ñ–≤–Ω—è–Ω—å</p>`;
            resultHTML += `<p>Merge Sort: ${results.merge.comparisons} –ø–æ—Ä—ñ–≤–Ω—è–Ω—å</p>`;
            resultHTML += `<p><strong>–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å: ${winner.charAt(0).toUpperCase() + winner.slice(1)} Sort!</strong></p>`;
            
            if (prediction.value === winner) {
                resultHTML += '<p style="color: green;">‚úì –í–∏ –≤–≥–∞–¥–∞–ª–∏!</p>';
            } else {
                resultHTML += '<p style="color: red;">‚úó –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑</p>';
            }
            
            document.getElementById('race-result').innerHTML = resultHTML;
        }
        
        // –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
        function testCustomAlgorithm() {
            const code = document.getElementById('custom-algorithm').value;
            
            try {
                // –°—Ç–≤–æ—Ä—é—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –∑ –∫–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
                const userFunction = new Function('arr', code.replace('def my_sort(arr):', '').replace('return arr', 'return arr;'));
                
                // –¢–µ—Å—Ç—É—î–º–æ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –º–∞—Å–∏–≤–∞—Ö
                const testCases = [
                    [5, 2, 8, 1, 9],
                    [1, 2, 3, 4, 5],
                    [5, 4, 3, 2, 1],
                    [1],
                    []
                ];
                
                let allPassed = true;
                let results = '<h4>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:</h4>';
                
                testCases.forEach((testCase, idx) => {
                    try {
                        const input = [...testCase];
                        const result = userFunction(input);
                        const expected = [...testCase].sort((a, b) => a - b);
                        
                        if (JSON.stringify(result) === JSON.stringify(expected)) {
                            results += `<p style="color: green;">‚úì –¢–µ—Å—Ç ${idx + 1} –ø—Ä–æ–π–¥–µ–Ω–æ</p>`;
                        } else {
                            results += `<p style="color: red;">‚úó –¢–µ—Å—Ç ${idx + 1} –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–æ. –û—á—ñ–∫—É–≤–∞–ª–æ—Å—å: [${expected}], –æ—Ç—Ä–∏–º–∞–Ω–æ: [${result}]</p>`;
                            allPassed = false;
                        }
                    } catch (e) {
                        results += `<p style="color: red;">‚úó –¢–µ—Å—Ç ${idx + 1}: –ø–æ–º–∏–ª–∫–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è</p>`;
                        allPassed = false;
                    }
                });
                
                if (allPassed) {
                    results += '<p style="color: green;"><strong>–ß—É–¥–æ–≤–æ! –í–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</strong></p>';
                }
                
                document.getElementById('custom-result').innerHTML = results;
            } catch (e) {
                document.getElementById('custom-result').innerHTML = 
                    '<p style="color: red;">–ü–æ–º–∏–ª–∫–∞ –≤ –∫–æ–¥—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.</p>';
            }
        }
        
        // –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ç–µ—Å—Ç
        const quizQuestions = [
            {
                question: "–Ø–∫–∞ —á–∞—Å–æ–≤–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å bubble sort —É –Ω–∞–π–∫—Ä–∞—â–æ–º—É –≤–∏–ø–∞–¥–∫—É?",
                options: ["O(1)", "O(n)", "O(n log n)", "O(n¬≤)"],
                correct: 1
            },
            {
                question: "–Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞–π—à–≤–∏–¥—à–∏–π –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –º–∞—Å–∏–≤—ñ–≤?",
                options: ["Bubble Sort", "Selection Sort", "Merge Sort", "–í—Å—ñ –æ–¥–Ω–∞–∫–æ–≤—ñ"],
                correct: 2
            },
            {
                question: "–©–æ —Ç–∞–∫–µ —Å—Ç–∞–±—ñ–ª—å–Ω–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è?",
                options: [
                    "–®–≤–∏–¥–∫–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è",
                    "–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, —è–∫–µ –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ—Ä—è–¥–æ–∫ –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤",
                    "–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫",
                    "–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑ O(1) –ø–∞–º'—è—Ç—ñ"
                ],
                correct: 1
            },
            {
                question: "–°–∫—ñ–ª—å–∫–∏ –æ–±–º—ñ–Ω—ñ–≤ —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∏–∫–æ–Ω–∞—î bubble sort –¥–ª—è –º–∞—Å–∏–≤—É –∑ 5 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤?",
                options: ["5", "10", "15", "20"],
                correct: 1
            },
            {
                question: "–Ø–∫–∞ –ø—Ä–æ—Å—Ç–æ—Ä–æ–≤–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å merge sort?",
                options: ["O(1)", "O(log n)", "O(n)", "O(n¬≤)"],
                correct: 2
            }
        ];
        
        let currentQuestion = 0;
        let quizAnswers = [];
        
        function startQuiz() {
            currentQuestion = 0;
            quizAnswers = [];
            document.getElementById('quiz-navigation').style.display = 'block';
            showQuestion();
        }
        
        function showQuestion() {
            const q = quizQuestions[currentQuestion];
            let html = `<h3>–ü–∏—Ç–∞–Ω–Ω—è ${currentQuestion + 1}:</h3>`;
            html += `<p>${q.question}</p>`;
            html += '<div class="options">';
            q.options.forEach((opt, idx) => {
                html += `<label><input type="radio" name="current-question" value="${idx}"> ${opt}</label>`;
            });
            html += '</div>';
            
            document.getElementById('quiz-questions').innerHTML = html;
            document.getElementById('question-counter').textContent = `${currentQuestion + 1}/${quizQuestions.length}`;
            
            // –í—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—é –≤—ñ–¥–ø–æ–≤—ñ–¥—å
            if (quizAnswers[currentQuestion] !== undefined) {
                document.querySelector(`input[value="${quizAnswers[currentQuestion]}"]`).checked = true;
            }
        }
        
        function previousQuestion() {
            if (currentQuestion > 0) {
                saveAnswer();
                currentQuestion--;
                showQuestion();
            }
        }
        
        function nextQuestion() {
            if (currentQuestion < quizQuestions.length - 1) {
                saveAnswer();
                currentQuestion++;
                showQuestion();
            }
        }
        
        function saveAnswer() {
            const selected = document.querySelector('input[name="current-question"]:checked');
            if (selected) {
                quizAnswers[currentQuestion] = parseInt(selected.value);
            }
        }
        
        function finishQuiz() {
            saveAnswer();
            
            let score = 0;
            let results = '<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É:</h3>';
            
            quizQuestions.forEach((q, idx) => {
                if (quizAnswers[idx] === q.correct) {
                    score++;
                    results += `<p style="color: green;">‚úì –ü–∏—Ç–∞–Ω–Ω—è ${idx + 1}: –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</p>`;
                } else {
                    results += `<p style="color: red;">‚úó –ü–∏—Ç–∞–Ω–Ω—è ${idx + 1}: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: ${q.options[q.correct]}</p>`;
                }
            });
            
            results += `<h4>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/${quizQuestions.length}</h4>`;
            
            if (score === quizQuestions.length) {
                results += '<p style="color: green;"><strong>–í—ñ–¥–º—ñ–Ω–Ω–æ! –í–∏ —á—É–¥–æ–≤–æ –∑–Ω–∞—î—Ç–µ –º–∞—Ç–µ—Ä—ñ–∞–ª!</strong></p>';
            } else if (score >= quizQuestions.length * 0.7) {
                results += '<p style="color: orange;"><strong>–î–æ–±—Ä–µ! –ê–ª–µ —î —â–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏.</strong></p>';
            } else {
                results += '<p style="color: red;"><strong>–†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª.</strong></p>';
            }
            
            document.getElementById('quiz-questions').innerHTML = results;
            document.getElementById('quiz-navigation').style.display = 'none';
        }
        function startMysterySort() {
            const array = [5, 3, 8, 4, 2];
            const container = document.getElementById('mystery-array');
            container.innerHTML = '';
              
             const bars = array.map(value => {
                 const bar = document.createElement('div');
                 bar.textContent = value;
                 bar.style.width = '40px';
                 bar.style.height = `${value * 20}px`;
                 bar.style.backgroundColor = '#3498db';
                 bar.style.display = 'inline-block';
                 bar.style.color = 'white';
                 bar.style.textAlign = 'center';
                 bar.style.verticalAlign = 'bottom';
                 container.appendChild(bar);
                 return bar;
               });
            
             let i = 0, j = 0;
            
             function animateStep() {
               if (i < array.length) {
                 if (j < array.length - i - 1) {
                   bars[j].style.backgroundColor = 'red';
                   bars[j + 1].style.backgroundColor = 'red';
                   setTimeout(() => {
                     if (array[j] > array[j + 1]) {
                        // Swap values
                       [array[j], array[j + 1]] = [array[j + 1], array[j]];
                       bars[j].textContent = array[j];
                       bars[j + 1].textContent = array[j + 1];
                       bars[j].style.height = `${array[j] * 20}px`;
                       bars[j + 1].style.height = `${array[j + 1] * 20}px`;
                     }
                     bars[j].style.backgroundColor = '#3498db';
                     bars[j + 1].style.backgroundColor = '#3498db';
                     j++;
                     animateStep();
                   }, 400);
                 } else {
                   j = 0;
                   i++;
                   animateStep();
                 }
               }
             }
            
             animateStep();
            }
        // True/False —à–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç
        const tfAnswers = {1: false, 2: true, 3: false};
        let tfScore = 0;
        
        function answerTrueFalse(question, answer) {
            const correct = tfAnswers[question] === answer;
            const resultSpan = document.getElementById(`tf-result-${question}`);
            
            if (correct) {
                resultSpan.innerHTML = ' <span style="color: green;">‚úì</span>';
                tfScore++;
            } else {
                resultSpan.innerHTML = ' <span style="color: red;">‚úó</span>';
            }
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –∑–∞–≥–∞–ª—å–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫
            if (Object.keys(tfAnswers).every(q => document.getElementById(`tf-result-${q}`).innerHTML !== '')) {
                document.getElementById('tf-score').innerHTML = 
                    `<strong>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${tfScore}/3</strong>`;
            }
        }
        
        // Drag & Drop
        let draggedElement = null;
        
        document.addEventListener('DOMContentLoaded', function() {
            // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è drag & drop
            const draggables = document.querySelectorAll('.draggable-step');
            const containers = [document.getElementById('available-steps'), document.getElementById('ordered-steps')];
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function(e) {
                    draggedElement = this;
                    this.style.opacity = '0.5';
                });
                
                draggable.addEventListener('dragend', function(e) {
                    this.style.opacity = '';
                });
            });
            
            containers.forEach(container => {
                if (container) {
                    container.addEventListener('dragover', function(e) {
                        e.preventDefault();
                    });
                    
                    container.addEventListener('drop', function(e) {
                        e.preventDefault();
                        if (draggedElement) {
                            this.appendChild(draggedElement);
                        }
                    });
                }
            });
            
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –º–∞—Å–∏–≤ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
            generateArray(currentArraySize);
        });
        
        function checkStepsOrder() {
            const orderedSteps = document.getElementById('ordered-steps');
            const steps = orderedSteps.querySelectorAll('.draggable-step');
            const correctOrder = ['1', '2', '3', '4'];
            
            let isCorrect = true;
            steps.forEach((step, idx) => {
                if (step.getAttribute('data-step') !== correctOrder[idx]) {
                    isCorrect = false;
                }
            });
            
            const result = document.getElementById('steps-result');
            if (steps.length !== 4) {
                result.innerHTML = '<p style="color: orange;">–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –≤—Å—ñ –∫—Ä–æ–∫–∏ —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É</p>';
            } else if (isCorrect) {
                result.innerHTML = '<p style="color: green;">‚úì –í—ñ–¥–º—ñ–Ω–Ω–æ! –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π!</p>';
            } else {
                result.innerHTML = '<p style="color: red;">‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.</p>';
            }
        }
        
        // Mystery Sort
        let mysteryAlgorithm = '';
        
        async function startMysterySort() {
            const algorithms = ['bubble', 'selection'];
            mysteryAlgorithm = algorithms[Math.floor(Math.random() * algorithms.length)];
            
            const container = document.getElementById('mystery-array');
            container.innerHTML = '';
            
            const values = [5, 2, 8, 1, 4];
            values.forEach(val => {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = val * 15 + 'px';
                bar.style.display = 'inline-block';
                bar.style.margin = '0 5px';
                bar.textContent = val;
                container.appendChild(bar);
            });
            
            // –ê–Ω—ñ–º–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –æ–±—Ä–∞–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
            if (mysteryAlgorithm === 'bubble') {
                // –ü–æ–∫–∞–∑—É—î–º–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É bubble sort
                await sleep(1000);
                // –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω—É –∞–Ω—ñ–º–∞—Ü—ñ—é
            } else {
                // –ü–æ–∫–∞–∑—É—î–º–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É selection sort
                await sleep(1000);
                // –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω—É –∞–Ω—ñ–º–∞—Ü—ñ—é
            }
            
            document.getElementById('mystery-result').innerHTML = 
                '<p>–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—é —Ç–∞ —Å–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º</p>';
        }
        
        function checkMysteryAnswer() {
            const selected = document.querySelector('input[name="mystery"]:checked');
            if (!selected) {
                alert('–û–±–µ—Ä—ñ—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º!');
                return;
            }
            
            if (selected.value === mysteryAlgorithm) {
                document.getElementById('mystery-result').innerHTML = 
                    '<p style="color: green;">‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ –¥—ñ–π—Å–Ω–æ ' + mysteryAlgorithm + ' sort!</p>';
            } else {
                document.getElementById('mystery-result').innerHTML = 
                    '<p style="color: red;">‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∞–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∞–Ω—ñ–º–∞—Ü—ñ—é –∑–Ω–æ–≤—É.</p>';
            }
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
        function testUserCode() {
            const code = document.getElementById('user-code').value;
            
            try {
                // –ü—Ä–æ—Å—Ç–∏–π —Ç–µ—Å—Ç
                const testArr = [3, 1, 4, 1, 5];
                const expectedResult = [1, 1, 3, 4, 5];
                
                // –í–∏–∫–æ–Ω—É—î–º–æ –∫–æ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
                eval(code);
                
                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é
                if (typeof bubble_sort === 'function') {
                    const result = bubble_sort([...testArr]);
                    
                    if (JSON.stringify(result) === JSON.stringify(expectedResult)) {
                        document.getElementById('code-result').innerHTML = 
                            '<p style="color: green;">‚úì –ß—É–¥–æ–≤–æ! –í–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</p>' +
                            '<p>–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω–æ: [3, 1, 4, 1, 5] ‚Üí [1, 1, 3, 4, 5]</p>';
                    } else {
                        document.getElementById('code-result').innerHTML = 
                            '<p style="color: red;">‚úó –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∞—Ü—é—î –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</p>' +
                            `<p>–û—á—ñ–∫—É–≤–∞–ª–æ—Å—å: [1, 1, 3, 4, 5], –æ—Ç—Ä–∏–º–∞–Ω–æ: [${result}]</p>`;
                    }
                } else {
                    document.getElementById('code-result').innerHTML = 
                        '<p style="color: red;">‚úó –§—É–Ω–∫—Ü—ñ—è bubble_sort –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞</p>';
                }
            } catch (e) {
                document.getElementById('code-result').innerHTML = 
                    '<p style="color: red;">‚úó –ü–æ–º–∏–ª–∫–∞ –≤ –∫–æ–¥—ñ: ' + e.message + '</p>';
            }
        }
    </script>
</body>
</html>
